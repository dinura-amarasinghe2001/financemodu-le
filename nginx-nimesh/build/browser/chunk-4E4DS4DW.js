import{a as q}from"./chunk-PMESUWSZ.js";import{a as V}from"./chunk-FKDMVCKV.js";import{a as L}from"./chunk-GTGBE7YF.js";import{a as H}from"./chunk-E4TC4E2W.js";import"./chunk-YEGTZ3HQ.js";import"./chunk-QJXHZJQJ.js";import{a as j}from"./chunk-NKWJDJWK.js";import{a as G}from"./chunk-3N5N6CVQ.js";import"./chunk-YK5MGRE7.js";import"./chunk-OT3AQSDR.js";import"./chunk-KKTU7MAV.js";import"./chunk-5RBAZJQA.js";import"./chunk-6F4FOUKE.js";import{b as B,c as $}from"./chunk-PNSBUHWU.js";import"./chunk-GRVU3NMS.js";import"./chunk-JTAP5U5F.js";import{d as D}from"./chunk-VPJKTFM7.js";import"./chunk-GXFYRQIF.js";import"./chunk-T4I3R2GV.js";import{b as F,d as A}from"./chunk-DJWEABC6.js";import{h as T,i as w,j as M,n as N,p as O,q as k,r as R}from"./chunk-MZLVPJ5Q.js";import{Bc as o,Cc as I,Db as b,Dc as m,Jc as S,Kb as v,Lc as _,Qc as f,Sc as h,Tb as c,cc as n,dc as r,ec as u,fc as C,gc as y,nb as a,oa as E,ob as d,oc as P,qc as l}from"./chunk-2GFQMTJ2.js";var K=()=>["part","repair","fitting_charge","paint","other"],z=(t,s)=>({"w-1/4":t,"w-1/2":s}),x=(t,s)=>({"w-1/6":t,"w-1/4":s});function Q(t,s){t&1&&(n(0,"th",29),o(1," S/H "),r())}function X(t,s){t&1&&(n(0,"th",29),o(1," Market Price "),r())}function Y(t,s){if(t&1&&(n(0,"th",26),o(1," Estimate Price "),r()),t&2){let e=l(2).$implicit;c("ngClass",_(1,x,e==="part",e!=="part"))}}function Z(t,s){if(t&1&&(n(0,"td",33),o(1),r()),t&2){let e=l().$implicit;a(),m(" ",e.sh," ")}}function ee(t,s){if(t&1&&(n(0,"td",33),o(1),f(2,"currency"),r()),t&2){let e=l().$implicit;a(),m(" ",h(2,1,e.marketPrice," ")," ")}}function te(t,s){if(t&1&&(n(0,"td",30),o(1),f(2,"currency"),r()),t&2){let e=l().$implicit,p=l(2).$implicit;c("ngClass",_(5,x,p==="part",p!=="part")),a(),m(" ",h(2,2,e.price," ")," ")}}function ie(t,s){if(t&1&&(n(0,"tr")(1,"td",25),o(2),f(3,"number"),r(),n(4,"td",30),o(5),r(),v(6,Z,2,1,"td",31)(7,ee,3,4,"td",31)(8,te,3,8,"td",32),n(9,"td",30),o(10),r()()),t&2){let e=s.$implicit,p=s.index,i=l(2).$implicit;a(2),I(h(3,8,p+1,"2.0")),a(2),c("ngClass",_(11,z,i==="part",i!=="part")),a(),m(" ",e.works," "),a(),c("ngIf",i==="part"),a(),c("ngIf",i==="part"),a(),c("ngIf",i!="part"),a(),c("ngClass",_(14,x,i==="part",i!=="part")),a(),m(" ",e.approvedPrice," ")}}function ne(t,s){if(t&1&&(n(0,"div",21)(1,"h2",22),o(2),r(),n(3,"table",23)(4,"thead",24)(5,"tr")(6,"th",25),o(7,"#"),r(),n(8,"th",26),o(9," Work "),r(),v(10,Q,2,0,"th",27)(11,X,2,0,"th",27)(12,Y,2,4,"th",28),n(13,"th",26),o(14," Amended Price "),r()()(),n(15,"tbody"),v(16,ie,11,17,"tr",19),r()()()),t&2){let e=l().$implicit,p=l();a(2),m(" ",e==="part"?"SPARE PARTS":e==="repair"?"REPAIRING":e==="fitting_charge"?"FITTING CHARGERS":e==="paint"?"PAINTING":e==="other"?"OTHERS":e," "),a(6),c("ngClass",_(7,z,e==="part",e!=="part")),a(2),c("ngIf",e==="part"),a(),c("ngIf",e==="part"),a(),c("ngIf",e!="part"),a(),c("ngClass",_(10,x,e==="part",e!=="part")),a(3),c("ngForOf",p.formLines[e])}}function re(t,s){if(t&1&&(C(0),v(1,ne,17,13,"div",20),y()),t&2){let e=s.$implicit,p=l();a(),c("ngIf",(p.formLines[e]==null?null:p.formLines[e].length)>0)}}var U=(()=>{class t{constructor(e,p,i,g,W,J){this._preEstimateTreatmentService=e,this._preEstimateService=p,this._selectedCardService=i,this._vehicleTreatmentRegistryService=g,this._route=W,this._snackBarService=J,this._fuseNavigationService=E(j),this.preEstimateID=0,this.isInsurance=!1,this.vehiclePreEstimateTreatments=[],this.router=E(A),this.formLines={part:[],fitting_charge:[],repair:[],paint:[],other:[]},this._fuseNavigationService.getComponent("mainNavigation").close()}ngOnInit(){let e=this._route.snapshot.paramMap.get("id");this.preEstimateID=Number(e),e&&(this._preEstimateService.find(Number(e)).subscribe(p=>{p.body&&(this.preEstimate=p.body,this.isInsurance=p.body.isInsurance,this.insuranceProviderID=p.body.insuranceID,this.insuranceProvider=p.body.insuranceName,this.numberOfPanels=p.body.numberOfPanels,this.vehicleNo=p.body.licenseNo)}),this._preEstimateTreatmentService.query({"preEstimateId.equals":`${e}`}).subscribe(p=>{console.log("\u{1F697} Vehicle Pre-Estimate Treatments:",p.body),this.vehiclePreEstimateTreatments=p.body||[],this.vehiclePreEstimateTreatments.length>0&&this.vehiclePreEstimateTreatments.forEach(i=>{let g=this.mapTreatmentTypeToSection(i.treatmentType);g&&this.formLines[g].push({id:i.id,works:i.partName||i.repairName||i.paintName||i.fittingChargeName||i.other||"",quantity:i.quantity,type:i.type,marketPrice:i.marketPrice,sh:i.sh,priceType:i.priceType,customPrice:i.customPrice,price:i.price})})}))}mapTreatmentTypeToSection(e){switch(e.toUpperCase()){case"PART":return"part";case"REPAIR":return"repair";case"PAINT":return"paint";case"FITTING_CHARGE":return"fitting_charge";case"OTHER":return"other";default:return null}}print(){window.print()}goBack(){this.router.navigate(["/pre-estimates-view/",this.preEstimateID])}static{this.\u0275fac=function(p){return new(p||t)(d(V),d(L),d(G),d(q),d(F),d(H))}}static{this.\u0275cmp=b({type:t,selectors:[["app-pre-estimate-print"]],decls:53,vars:13,consts:[["id","print-section",1,"w-full","h-full","fixed","top-0","left-0","z-50","bg-white","p-10","text-sm","text-gray-800","print:block","overflow-auto"],[1,"flex","space-x-4","mb-6","no-print"],[1,"px-4","py-2","bg-gradient-to-r","from-gray-500","to-gray-700","hover:from-gray-600","hover:to-gray-800","rounded-lg","shadow","text-white","flex","items-center","transition-all","duration-200",3,"click"],[1,"icon-size-4","text-white",3,"svgIcon"],[1,"ml-2"],[1,"px-4","py-2","bg-gradient-to-r","from-rose-500","to-red-500","hover:from-rose-600","hover:to-red-600","rounded-lg","shadow","text-white","flex","items-center","transition-all","duration-200",3,"click"],[1,"p-6","text-sm","text-gray-800"],[1,"text-center","mb-6"],[1,"flex","justify-between","items-center","mb-4"],[1,"text-right"],[1,"border-white","mt-40"],[1,"flex","justify-between","text-sm","ml-20","mr-30"],[1,"text-left"],[1,"uppercase"],[1,"ml-3"],[1,"ml-1"],[1,"ml-11"],[1,"ml-8"],[1,"text-lg","font-bold","text-center","underline","mb-5"],[4,"ngFor","ngForOf"],["class","mb-8",4,"ngIf"],[1,"mb-8"],[1,"text-lg","font-bold","uppercase","mb-2","border-b","pb-1"],[1,"w-full","border","border-collapse","border-gray-400","text-left","text-sm","table-fixed"],[1,"bg-gray-100"],[1,"border","p-2","w-[60px]"],[1,"border","p-2","uppercase",3,"ngClass"],["class","border p-2 w-1/6 uppercase",4,"ngIf"],["class","border p-2 uppercase",3,"ngClass",4,"ngIf"],[1,"border","p-2","w-1/6","uppercase"],[1,"border","p-2",3,"ngClass"],["class","border p-2 w-1/6",4,"ngIf"],["class","border p-2",3,"ngClass",4,"ngIf"],[1,"border","p-2","w-1/6"]],template:function(p,i){p&1&&(n(0,"div",0)(1,"div",1)(2,"button",2),P("click",function(){return i.goBack()}),u(3,"mat-icon",3),n(4,"span",4),o(5,"Back"),r()(),n(6,"button",5),P("click",function(){return i.print()}),u(7,"mat-icon",3),n(8,"span",4),o(9,"Print"),r()()(),n(10,"div",6)(11,"div",7)(12,"div",8),u(13,"div")(14,"div",9),r(),u(15,"hr",10),n(16,"div",11)(17,"div",12)(18,"p",13)(19,"strong"),o(20,"Insurance"),r(),n(21,"span",14),o(22),r()(),n(23,"p",13)(24,"strong"),o(25,"Vehicle No"),r(),n(26,"span",14),o(27),r()(),n(28,"p",13)(29,"strong"),o(30,"Contact No"),r(),n(31,"span",15),o(32),r()()(),n(33,"div",12)(34,"p",13)(35,"strong"),o(36,"Date"),r(),n(37,"span",16),o(38),f(39,"date"),r()(),n(40,"p",13)(41,"strong"),o(42,"Model"),r(),n(43,"span",17),o(44),r()(),n(45,"p",13)(46,"strong"),o(47,"Customer"),r(),n(48,"span",4),o(49),r()()()()(),n(50,"h2",18),o(51," ESTIMATE FOR ACCIDENT REPAIRING "),r(),v(52,re,2,1,"ng-container",19),r()()),p&2&&(a(3),c("svgIcon","mat_outline:arrow_back"),a(4),c("svgIcon","mat_outline:print"),a(15),m(": ",i.insuranceProvider,""),a(5),m(": ",i.vehicleNo,""),a(5),m(": ",i.preEstimate.vehicleOwnerContactNumber1,""),a(6),m(": ",h(39,9,i.preEstimate.createdDate,"medium"),""),a(6),m(": ",i.preEstimate.vehicleModel,""),a(5),m(": ",i.preEstimate.vehicleOwnerName,""),a(3),c("ngForOf",S(12,K)))},dependencies:[R,T,w,M,O,k,N,D,$,B],styles:["@media print{body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{margin:0;padding:0;overflow:visible!important}body[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{visibility:hidden}#print-section[_ngcontent-%COMP%], #print-section[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{visibility:visible}#print-section[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:auto!important;overflow:visible!important;-ms-overflow-style:none;scrollbar-width:none}#print-section[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.no-print[_ngcontent-%COMP%]{display:none!important}table[_ngcontent-%COMP%], tr[_ngcontent-%COMP%], td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{page-break-inside:avoid!important;break-inside:avoid!important}div[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{page-break-inside:auto}}"]})}}return t})();var ye=[{path:"",component:U}];export{ye as default};
