import{c as tt,d as it}from"./chunk-G4IOVJWU.js";import{a as Xe}from"./chunk-A6AKI5EW.js";import{a as Ze,b as et}from"./chunk-N36NJ6TT.js";import{a as Ye}from"./chunk-M5AHF4UO.js";import{a as Ue}from"./chunk-Y6RDMGCV.js";import{a as qe}from"./chunk-CI6T4FGN.js";import{b as Ge}from"./chunk-T73PE35A.js";import"./chunk-RHLCCWT6.js";import{d as Ke}from"./chunk-6GYTZCHH.js";import{a as ze,b as $e,c as Qe,h as He}from"./chunk-ZGGKBBB7.js";import{a as Re}from"./chunk-E4TC4E2W.js";import{a as We}from"./chunk-YEGTZ3HQ.js";import"./chunk-QJXHZJQJ.js";import{a as he}from"./chunk-NKWJDJWK.js";import{a as Be}from"./chunk-3N5N6CVQ.js";import{a as be}from"./chunk-QQNGDF4M.js";import"./chunk-YK5MGRE7.js";import"./chunk-OT3AQSDR.js";import{b as Fe}from"./chunk-HN3GTZ22.js";import{b as Oe}from"./chunk-2V7PXVXU.js";import{d as Me}from"./chunk-4WAQRQWE.js";import{d as fe}from"./chunk-KKTU7MAV.js";import{b as Ae}from"./chunk-HLRQKUHW.js";import"./chunk-5RBAZJQA.js";import{a as Le,b as Ve}from"./chunk-LMUZFXJ5.js";import"./chunk-6F4FOUKE.js";import{A as Se,B as ye,C as we,D as Ie,E as ke,H as je,J as Te,K as Ne,O as Je,P as Pe,b as oe,e as le,i as se,j as de,l as ge,n as F,q as ve,r as De,u as xe,w as Ce,x as _e,z as Ee}from"./chunk-MXRUEL7B.js";import{b as pe,c as ue}from"./chunk-PNSBUHWU.js";import"./chunk-GRVU3NMS.js";import{g as ne}from"./chunk-TEYA6QDP.js";import"./chunk-JTAP5U5F.js";import{a as me,d as ce}from"./chunk-VPJKTFM7.js";import{ia as re}from"./chunk-GXFYRQIF.js";import"./chunk-T4I3R2GV.js";import{b as ae}from"./chunk-DJWEABC6.js";import{i as Z,j as ee,n as te,r as ie}from"./chunk-MZLVPJ5Q.js";import{Aa as E,Ac as C,Bc as n,Cc as K,Db as H,Dc as v,E as A,Fc as J,Gc as P,Hc as O,Kb as y,Qc as X,Sc as Y,Tb as l,a as D,b as S,ca as W,cc as r,dc as a,ea as R,ec as h,fc as q,g as $,gc as U,ic as k,m as Q,nb as o,oa as M,ob as I,oc as T,qc as x,za as _}from"./chunk-2GFQMTJ2.js";function nt(d,g){if(d&1){let t=k();r(0,"button",37),T("click",function(){_(t);let e=x(2);return E(e.createJobCard())}),r(1,"span",38),n(2,"Create"),a()()}}function ot(d,g){if(d&1){let t=k();r(0,"button",39),T("click",function(){_(t);let e=x(2);return E(e.updateJobCard())}),r(1,"span",38),n(2,"Update"),a()()}}function lt(d,g){if(d&1){let t=k();r(0,"div",21)(1,"div",22)(2,"div",23)(3,"div",24)(4,"div",25)(5,"button",26)(6,"div",27),h(7,"mat-icon",28),a()()(),r(8,"div",29)(9,"div",30)(10,"input",31),T("keydown.enter",function(){_(t);let e=x();return E(e.loadEstimate())}),a(),r(11,"div",32),q(12),h(13,"mat-icon",28),U(),a()()(),y(14,nt,3,0,"button",33)(15,ot,3,0,"button",34),r(16,"div",35)(17,"fuse-alert",36),n(18," Please fill all required fields before submitting the form. "),a()()()()()()}if(d&2){let t=x();o(7),l("svgIcon","mat_outline:directions_car_filled"),o(3),l("formControl",t.searchInputControl)("placeholder","Enter Estimate ID"),o(3),l("svgIcon","mat_outline:directions_car_filled"),o(),l("ngIf",!t.jobID),o(),l("ngIf",t.isUpdating||t.jobID),o(2),l("appearance","soft")("dismissible",!0)("dismissed",!0)("name","alertBox4")("type","warn")}}function st(d,g){if(d&1){let t=k();r(0,"div",44),T("click",function(){let e=_(t).$implicit,s=x(2);return E(s.selectEsitamte(e.id))}),r(1,"div",45)(2,"span",46),n(3,"Estimate"),a(),r(4,"div",25)(5,"span",47),n(6),a(),r(7,"span",47),n(8),X(9,"date"),a()()(),r(10,"div",48)(11,"div",49),n(12),a(),r(13,"div",50),n(14," Owner: "),r(15,"span",51),n(16),a()()(),r(17,"div",52)(18,"span",53),n(19,"Add To Job Card \u2192"),a()()()}if(d&2){let t=g.$implicit;o(6),v(" #",t.estimateID," "),o(2),v(" ",Y(9,4,t.createdDate,"medium")," "),o(4),v(" ",t.licenseNo," "),o(4),K(t.vehicleOwnerName)}}function dt(d,g){if(d&1&&(r(0,"div",40)(1,"h2",41),n(2,"Recent Estimates"),a(),r(3,"div",42),y(4,st,20,7,"div",43),a()()),d&2){let t=x();o(4),l("ngForOf",t.resentEsitamte)}}function mt(d,g){d&1&&(r(0,"div",54)(1,"fuse-alert",36),n(2," Please Select Vehicle. "),a()()),d&2&&(o(),l("appearance","soft")("dismissible",!0)("dismissed",!0)("name","alertBox5")("type","warn"))}function ct(d,g){if(d&1&&(r(0,"div",83),n(1),a()),d&2){let t=x(2);o(),v(" ",t.invoiceNumber," ")}}function pt(d,g){d&1&&h(0,"mat-icon",84),d&2&&l("svgIcon","heroicons_solid:chevron-down")}function ut(d,g){d&1&&h(0,"mat-icon",84),d&2&&l("svgIcon","heroicons_solid:chevron-up")}function bt(d,g){if(d&1){let t=k();r(0,"button",85),T("click",function(){_(t);let e=x(2);return E(e.updateJobCard())}),r(1,"span",38),n(2,"Update"),a()()}}function ht(d,g){if(d&1&&(q(0),r(1,"div",86)(2,"form",87)(3,"div",88)(4,"mat-form-field",89)(5,"mat-label"),n(6,"Fuel Level"),a(),h(7,"input",90),r(8,"div",91),n(9," % "),a()(),r(10,"mat-form-field",89)(11,"mat-label"),n(12,"Owner Belongings"),a(),h(13,"input",92),a(),r(14,"mat-form-field",89)(15,"mat-label"),n(16,"Meter Reading"),a(),h(17,"input",92),r(18,"div",91),n(19," KM "),a()()(),r(20,"div",93)(21,"div",94)(22,"mat-form-field",89)(23,"mat-label"),n(24,"Start Date"),a(),h(25,"input",95)(26,"mat-datepicker-toggle",96)(27,"mat-datepicker",null,0),a(),r(29,"div",97)(30,"mat-icon",98),n(31,"swap_horiz"),a()(),r(32,"mat-form-field",89)(33,"mat-label"),n(34,"Job Complete Date"),a(),h(35,"input",99)(36,"mat-datepicker-toggle",96)(37,"mat-datepicker",null,1),a()(),r(39,"mat-form-field",89)(40,"mat-label"),n(41,"Booth Date"),a(),h(42,"input",100)(43,"mat-datepicker-toggle",96)(44,"mat-datepicker",null,2),a()(),r(46,"div",93)(47,"div",94)(48,"mat-form-field",89)(49,"mat-label"),n(50,"Repairing Start"),a(),h(51,"input",101)(52,"mat-datepicker-toggle",96)(53,"mat-datepicker",null,3),a(),r(55,"div",97)(56,"mat-icon",98),n(57,"swap_horiz"),a()(),r(58,"mat-form-field",89)(59,"mat-label"),n(60,"Repairing End"),a(),h(61,"input",102)(62,"mat-datepicker-toggle",96)(63,"mat-datepicker",null,4),a()(),r(65,"div",94)(66,"mat-form-field",89)(67,"mat-label"),n(68,"Paint Start"),a(),h(69,"input",103)(70,"mat-datepicker-toggle",96)(71,"mat-datepicker",null,5),a(),r(73,"div",97)(74,"mat-icon",98),n(75,"swap_horiz"),a()(),r(76,"mat-form-field",89)(77,"mat-label"),n(78,"Paint End"),a(),h(79,"input",104)(80,"mat-datepicker-toggle",96)(81,"mat-datepicker",null,6),a()(),r(83,"div",94)(84,"mat-form-field",89)(85,"mat-label"),n(86,"Spare Part Start"),a(),h(87,"input",105)(88,"mat-datepicker-toggle",96)(89,"mat-datepicker",null,7),a(),r(91,"div",97)(92,"mat-icon",98),n(93,"swap_horiz"),a()(),r(94,"mat-form-field",89)(95,"mat-label"),n(96,"Spare Part End"),a(),h(97,"input",106)(98,"mat-datepicker-toggle",96)(99,"mat-datepicker",null,8),a()(),r(101,"div",94)(102,"mat-form-field",89)(103,"mat-label"),n(104,"Fitting Work Start"),a(),h(105,"input",107)(106,"mat-datepicker-toggle",96)(107,"mat-datepicker",null,9),a(),r(109,"div",97)(110,"mat-icon",98),n(111,"swap_horiz"),a()(),r(112,"mat-form-field",89)(113,"mat-label"),n(114,"Fitting Work End"),a(),h(115,"input",108)(116,"mat-datepicker-toggle",96)(117,"mat-datepicker",null,10),a()()()()(),U()),d&2){let t=C(28),i=C(38),e=C(45),s=C(54),u=C(64),f=C(72),m=C(82),p=C(90),c=C(100),w=C(108),N=C(118),j=x(2);o(2),l("formGroup",j.jobCardForm),o(23),l("matDatepicker",t),o(),l("for",t),o(9),l("matDatepicker",i),o(),l("for",i),o(6),l("matDatepicker",e),o(),l("for",e),o(8),l("matDatepicker",s),o(),l("for",s),o(9),l("matDatepicker",u),o(),l("for",u),o(7),l("matDatepicker",f),o(),l("for",f),o(9),l("matDatepicker",m),o(),l("for",m),o(7),l("matDatepicker",p),o(),l("for",p),o(9),l("matDatepicker",c),o(),l("for",c),o(7),l("matDatepicker",w),o(),l("for",w),o(9),l("matDatepicker",N),o(),l("for",N)}}function ft(d,g){if(d&1){let t=k();r(0,"div",55)(1,"div",56)(2,"div",57)(3,"div",58)(4,"div"),y(5,ct,2,1,"div",59),a(),r(6,"div",60)(7,"button",61),T("click",function(){_(t);let e=x();return E(e.toggleDetails())}),r(8,"span",62),n(9,"Details"),a(),y(10,pt,1,1,"mat-icon",63)(11,ut,1,1,"mat-icon",63),a(),y(12,bt,3,0,"button",64),a()(),r(13,"div",65)(14,"div",66)(15,"div",67),h(16,"mat-icon",68),a(),r(17,"div",69)(18,"div",70),n(19,"Vehicle"),a(),r(20,"div",71),n(21),r(22,"div",72),n(23),a()(),r(24,"div",73)(25,"div",74)(26,"div",75),n(27),a(),r(28,"div",76),n(29),a()()()()(),r(30,"div",66)(31,"div",77),h(32,"mat-icon",68),a(),r(33,"div",69)(34,"div",70),n(35,"Owner"),a(),r(36,"div",71),n(37),a(),r(38,"div",78)(39,"div",79),n(40),a(),r(41,"div",80),n(42),a()()()(),r(43,"div",66)(44,"div",81),h(45,"mat-icon",68),a(),r(46,"div",69)(47,"div",70),n(48,"Insurance"),a(),r(49,"div",71),n(50),a()()()(),y(51,ht,119,23,"ng-container",82),a()()()}if(d&2){let t,i=x();o(5),l("ngIf",i.invoiceNumber),o(5),l("ngIf",!i.showDetails),o(),l("ngIf",i.showDetails),o(),l("ngIf",i.isUpdating||i.jobID),o(4),l("svgIcon","mat_outline:directions_car_filled"),o(5),v(" ",i.jobCardDetails.vehicleLicenseNumber," "),o(2),v(" Panels: ",(t=i.jobCardDetails.numberOfPanels)!==null&&t!==void 0?t:0," "),o(4),v(" ",i.jobCardDetails.vehicleBrand," "),o(2),v(" ",i.jobCardDetails.vehicleModel," "),o(3),l("svgIcon","heroicons_outline:user-circle"),o(5),v(" ",i.jobCardDetails.vehicleOwnerName," "),o(3),v(" ",i.jobCardDetails.vehicleOwnerContactNumber1," "),o(2),v(" ",i.jobCardDetails.vehicleOwnerContactNumber2," "),o(3),l("svgIcon","heroicons_outline:clipboard-document-list"),o(5),v(" ",i.jobCardDetails.insuranceCompany," "),o(),l("ngIf",i.showDetails)}}function gt(d,g){if(d&1){let t=k();r(0,"div",109),T("click",function(){let e=_(t).$implicit,s=x();return E(s.filterItems(e))}),n(1),a()}if(d&2){let t=g.$implicit;o(),v(" Estimate #",t," ")}}function vt(d,g){if(d&1){let t=k();r(0,"div",118)(1,"div",30)(2,"select",119),O("ngModelChange",function(e){let s=_(t).$implicit;return P(s.departmentID,e)||(s.departmentID=e),E(e)}),r(3,"option",120),n(4," Select Department "),a(),r(5,"option",121),n(6,"SPARE_PARTS"),a(),r(7,"option",122),n(8,"PAINT"),a(),r(9,"option",123),n(10,"FITTING_CHARGES"),a(),r(11,"option",124),n(12,"REPAIRING"),a()()(),r(13,"div",30)(14,"input",125),O("ngModelChange",function(e){let s=_(t).$implicit;return P(s.startDate,e)||(s.startDate=e),E(e)}),a(),h(15,"mat-datepicker-toggle",126)(16,"mat-datepicker",null,0),a(),r(18,"div",30)(19,"input",127),O("ngModelChange",function(e){let s=_(t).$implicit;return P(s.endDate,e)||(s.endDate=e),E(e)}),a(),h(20,"mat-datepicker-toggle",126)(21,"mat-datepicker",null,11),a(),r(23,"select",128),O("ngModelChange",function(e){let s=_(t).$implicit;return P(s.currentState,e)||(s.currentState=e),E(e)}),r(24,"option",120),n(25,"Select State"),a(),r(26,"option",129),n(27,"OPEN"),a(),r(28,"option",130),n(29,"CANCELED"),a(),r(30,"option",131),n(31,"COMPLETE"),a(),r(32,"option",132),n(33,"CLOSED"),a(),r(34,"option",133),n(35,"QC_PENDING"),a(),r(36,"option",134),n(37,"QC_APPROVED"),a(),r(38,"option",135),n(39,"QCPD"),a(),r(40,"option",136),n(41,"QCPD_PENDING"),a(),r(42,"option",137),n(43,"QCPD_TO_PENDING"),a()(),r(44,"input",138),O("ngModelChange",function(e){let s=_(t).$implicit;return P(s.remarks,e)||(s.remarks=e),E(e)}),a()()}if(d&2){let t=g.$implicit,i=C(17),e=C(22);o(2),J("ngModel",t.departmentID),o(12),l("matDatepicker",i),J("ngModel",t.startDate),o(),l("for",i),o(4),l("matDatepicker",e),J("ngModel",t.endDate),o(),l("for",e),o(3),J("ngModel",t.currentState),o(21),J("ngModel",t.remarks)}}function Dt(d,g){if(d&1&&(r(0,"div",110)(1,"div",111)(2,"h2",112),n(3),a(),r(4,"div",113)(5,"div",114)(6,"div",115)(7,"div",116),n(8,"Department ID"),a(),r(9,"div",89),n(10,"Start Date"),a(),r(11,"div",89),n(12,"End Date"),a(),r(13,"div",89),n(14,"State"),a(),r(15,"div",116),n(16,"Remarks"),a()(),y(17,vt,45,9,"div",117),a()()()()),d&2){let t=x();o(3),v(" Job Estimate Details For ",t.estimateDetailsFor," "),o(14),l("ngForOf",t.selectedTreatmentsForJobCard)}}var at=(()=>{class d{constructor(t,i,e,s,u,f,m,p){this._fb=t,this._jobCardRegistryService=i,this._jobEstimateService=e,this._estimateTreatmentService=s,this._selectedCardService=u,this._activatedRoute=f,this._snackBarService=m,this._fuseConfirmationService=p,this._unsubscribeAll=new Q,this.showDetails=!1,this.searchInputControl=new xe,this.vehicleEstimateTreatments=[],this.allSelectedTreatments=[],this.selectedTreatmentsForJobCard=[],this.selectedEstimateIds=[],this.selectedVehicleandClientDetails=null,this.isInsurance=!1,this.jobID="",this.jobCardNumber="",this.estimateID=0,this.estimateDetailsFor=0,this._estimateService=M(qe),this.jobEstimateWorkLogService=M(et),this.resentEsitamte=[],this.isUpdating=!1,this.jobEstimateWorkers=[],this._newUser="",this._newTime=0,this.showUserInputForEstimateId=null,this._fuseAlertService=M(Le),this._fuseNavigationService=M(he),this.gatePassService=M(Xe),this.searchInputControl.valueChanges.subscribe(w=>{this.loadEstimate()}),this._fuseNavigationService.getComponent("mainNavigation").close()}ngOnInit(){this._selectedCardService.selectedCard$.subscribe(i=>{this.selectedVehicleandClientDetails=i,console.log("Selected Vehicle and Client Details:",this.selectedVehicleandClientDetails)});let t=this._activatedRoute.snapshot.paramMap.get("id");if(this.jobID=t,this.selectedVehicleandClientDetails?.vehicle?.licenseNo){let i={size:5,"licenseNo.contains":`${this.selectedVehicleandClientDetails?.vehicle?.licenseNo}`,sort:"createdDate,desc"};this._estimateService.query(i).subscribe(e=>{if(console.log("Recent Estimatesssssssssssss:",e.body),this.resentEsitamte=e.body||[],e.body.length===0){let s={size:5,sort:"createdDate,desc"};this._estimateService.query(s).subscribe(u=>{console.log("Recent all Estimatesssssssssssss:",u.body),this.resentEsitamte=u.body||[]})}})}else{this.show("alertBox5"),setTimeout(()=>this.dismiss("alertBox5"),4e3);let i={size:5,sort:"createdDate,desc"};this._estimateService.query(i).subscribe(e=>{console.log("Recent all Estimatesssssssssssss:",e.body),this.resentEsitamte=e.body||[]})}t&&(this.isUpdating=!0,this._jobCardRegistryService.find(parseInt(t)).subscribe(i=>{if(i.body){this.jobCardDetails=i.body,console.log("\u{1F6E0}\uFE0F Job Card For Update:",i.body),this.jobCardForm.patchValue(D({},i.body));let e=i.body,s=S(D({},e),{startDate:e.startDate?.toDate?.()??e.startDate,jobCompleteDate:e.jobCompleteDate?.toDate?.()??e.jobCompleteDate,boothDate:e.boothDate?.toDate?.()??e.boothDate,createdDate:e.createdDate?.toDate?.()??e.createdDate,lastModifiedDate:e.lastModifiedDate?.toDate?.()??e.lastModifiedDate,tinkeringStartDateTime:e.tinkeringStartDateTime?.toDate?.()??e.tinkeringStartDateTime,tinkeringEndDateTime:e.tinkeringEndDateTime?.toDate?.()??e.tinkeringEndDateTime,paintStartDateTime:e.paintStartDateTime?.toDate?.()??e.paintStartDateTime,paintEndDateTime:e.paintEndDateTime?.toDate?.()??e.paintEndDateTime,fittingStartDateTime:e.fittingStartDateTime?.toDate?.()??e.fittingStartDateTime,fittingEndDateTime:e.fittingEndDateTime?.toDate?.()??e.fittingEndDateTime,qcStartDateTime:e.qcStartDateTime?.toDate?.()??e.qcStartDateTime,qcEndDateTime:e.qcEndDateTime?.toDate?.()??e.qcEndDateTime,sparePartStartDateTime:e.sparePartStartDateTime?.toDate?.()??e.sparePartStartDateTime,sparePartEndDateTime:e.sparePartEndDateTime?.toDate?.()??e.sparePartEndDateTime});this.jobCardForm.patchValue(s),this.numberOfPanels=i.body.numberOfPanels,this.insuranceProvider=i.body.insuranceCompany,this.selectedVehicleandClientDetails={vehicle:{id:parseInt(i.body.vehicleID,10),licenseNo:i.body.vehicleLicenseNumber,brand:i.body.vehicleBrand,model:i.body.vehicleModel},client:{id:parseInt(i.body.vehicleOwnerID,10),name:i.body.vehicleOwnerName,contactNumber1:i.body.vehicleOwnerContactNumber1,contactNumber2:i.body.vehicleOwnerContactNumber2}},this._jobEstimateService.query({"jobCardId.equals":`${i.body.id}`}).subscribe(u=>{let f=(u.body||[]).map(m=>S(D({},m),{startDate:m.startDate?m.startDate.toDate?.()??m.startDate:null,endDate:m.endDate?m.endDate.toDate?.()??m.endDate:null,estStartDate:m.estStartDate?m.estStartDate.toDate?.()??m.estStartDate:null,estEndDate:m.estEndDate?m.estEndDate.toDate?.()??m.estEndDate:null}));f.forEach(m=>{let p=parseInt(m.estimateID||"0",10);p&&!this.selectedEstimateIds.includes(p)&&this.selectedEstimateIds.push(p),m.id&&this.jobEstimateWorkLogService.query({"jobEstimateId.equals":m.id}).subscribe(c=>{let w=c.body||[],N=this.allSelectedTreatments.findIndex(b=>b.id===m.id);N>-1&&(this.allSelectedTreatments[N].jobEstimateWorkLogs=w);let j=this.selectedTreatmentsForJobCard.findIndex(b=>b.id===m.id);j>-1&&(this.selectedTreatmentsForJobCard[j].jobEstimateWorkLogs=w),console.log(`\u{1F4CB} Work Logs for Job Estimate ${m.id}:`,w)})}),this.allSelectedTreatments=f,this.selectedEstimateIds.length>0&&this.filterItems(this.selectedEstimateIds[0]),console.log("Job Item For Update:",f)}),this.showDetails=!0}})),this._selectedCardService.selectedCard$.subscribe(i=>{this.selectedVehicleandClientDetails=i}),this.jobCardForm=this._fb.group({id:[null],estimateID:[null],serviceAdvisor:[null],fuelLevel:[null],meterReading:[null],startDate:[null,F.required],jobCardNumber:[null],jobCompleteDate:[null,F.required],boothDate:[null,F.required],opsUnitID:[null],createdBy:[null],createdDate:[null],lastModifiedBy:[null],lastModifiedDate:[null],tinkeringStartDateTime:[null],tinkeringEndDateTime:[null],fittingStartDateTime:[null],fittingEndDateTime:[null],paintStartDateTime:[null],paintEndDateTime:[null],qcStartDateTime:[null],qcEndDateTime:[null],sparePartStartDateTime:[null],sparePartEndDateTime:[null],ownerBelongings:[null]})}loadEstimate(){let t=this.searchInputControl.value?.trim();this._estimateService.find(t).pipe(W(this._unsubscribeAll),R(i=>{console.log(i.body,"This is coming from load"),this.resentEsitamte=Array.isArray(i.body)?i.body:[i.body]})).subscribe()}selectEsitamte(t){this._estimateService.find(t).pipe(W(this._unsubscribeAll),R(i=>{let e=i.body.licenseNo;this.isInsurance=i.body.isInsurance,this.insuranceProviderID=i.body.insuranceID,this.insuranceProvider=i.body.insuranceName,this.numberOfPanels=i.body.numberOfPanels,this.estimateID=i.body.id,this.jobCardDetails=D({},i.body),this.jobCardDetails.vehicleLicenseNumber=i.body.licenseNo,this.jobCardDetails.insuranceCompany=i.body.insuranceName,this._estimateTreatmentService.query({"estimateId.equals":`${i.body.id}`}).subscribe(s=>{let f=(s.body||[]).filter(m=>!this.selectedTreatmentsForJobCard.some(p=>p.id===m.id)).map(m=>{let p=m.partName||m.repairName||m.paintName||m.fittingChargeName||m.other||"";return{id:m.id,remarks:p,estimateID:t.toString(),vehicleLicenseNumber:e}});f.length>0&&(this.allSelectedTreatments.push(...f),this.selectedTreatmentsForJobCard.push(...f),this.selectedEstimateIds.includes(t)||this.selectedEstimateIds.push(t),this.resentEsitamte=this.resentEsitamte.filter(m=>m.id!==t),this.filterItems(t))})})).subscribe()}filterItems(t){this.estimateDetailsFor=t,this.selectedTreatmentsForJobCard=this.allSelectedTreatments.filter(i=>Number(i.estimateID)===t)}toggleDetails(){this.showDetails=!this.showDetails}createJobCard(){return $(this,null,function*(){let t=yield this.getNexJobID(),i=S(D({},this.jobCardForm.getRawValue()),{id:null,vehicleID:this.jobCardDetails.vehicleID,vehicleLicenseNumber:this.jobCardDetails.vehicleLicenseNumber,vehicleBrand:this.jobCardDetails.vehicleBrand,vehicleModel:this.jobCardDetails.vehicleModel,vehicleOwnerID:this.jobCardDetails.vehicleOwnerID,vehicleOwnerName:this.jobCardDetails.vehicleOwnerName,vehicleOwnerContactNumber1:this.jobCardDetails.vehicleOwnerContactNumber1,vehicleOwnerContactNumber2:this.jobCardDetails.vehicleOwnerContactNumber2,insuranceCompany:this.insuranceProvider,numberOfPanels:this.numberOfPanels,serviceAdvisor:this.jobCardDetails.serviceAdvisor,serviceAdvisorID:this.jobCardDetails.serviceAdvisorID,estimateID:this.estimateID,ownerBelongings:this.jobCardDetails.ownerBelongings,jobCardNumber:t});if(this.jobCardDetails.vehicleID===null||this.jobCardDetails.vehicleLicenseNumber===""){this.show("alertBox4"),setTimeout(()=>this.dismiss("alertBox4"),4e3);return}this._jobCardRegistryService.create(i).subscribe(e=>{console.log("Job Card Created: ",e),e.body&&(this.jobCardNumber=e.body.jobCardNumber,this.jobID=e.body.id.toString(),this.allSelectedTreatments=this.allSelectedTreatments.map(s=>S(D({},s),{id:null,jobID:e.body.id.toString(),jobCard:{id:e.body.id}})),this.createRecords(0),this.jobID=e.body.id.toString(),this.createGatepss(e.body.jobCardNumber))})})}createGatepss(t){let i={id:null,vehicleID:this.jobCardDetails.vehicleID,vehicleLicenseNumber:this.jobCardDetails.vehicleLicenseNumber,vehicleBrand:this.jobCardDetails.vehicleBrand,vehicleModel:this.jobCardDetails.vehicleModel,vehicleOwnerID:this.jobCardDetails.vehicleOwnerID,vehicleOwnerName:this.jobCardDetails.vehicleOwnerName,vehicleOwnerContactNumber1:this.jobCardDetails.vehicleOwnerContactNumber1,vehicleOwnerContactNumber2:this.jobCardDetails.vehicleOwnerContactNumber2,jobCardNumber:t,fuelLevel:this.jobCardForm.get("fuelLevel")?.value,meterReading:this.jobCardForm.get("meterReading")?.value,status:"OPEN",ownerBelongings:this.jobCardDetails.ownerBelongings};console.log("Gate Pass Created: ",i),this.gatePassService.create(i).subscribe()}addAssignedUser(t,i){if(!this._newUser||!this._newTime||!t.id)return;let e={id:null,workedEmployeeName:this._newUser,workedHours:this._newTime,workDate:We(),jobEstimate:{id:null}};this.selectedTreatmentsForJobCard[i].jobEstimateWorkLogs===void 0&&(this.selectedTreatmentsForJobCard[i].jobEstimateWorkLogs=[]),this.selectedTreatmentsForJobCard[i].jobEstimateWorkLogs.push(e),this.jobEstimateWorkers.push(e),console.log(this.jobEstimateWorkers),this._newUser="",this._newTime=0,this.showUserInputForEstimateId=null}onLogs(t){console.log(this.selectedTreatmentsForJobCard[t])}removeAssignedUser(t,i){t.jobEstimateWorkLogs&&(t.jobEstimateWorkLogs=t.jobEstimateWorkLogs.filter(e=>e.id!==i.id))}getWorkersForEstimate(t){return this.jobEstimateWorkers.filter(i=>i.jobEstimate?.id===t)}createJobItemTimeEstimationService(t){this.allSelectedTreatments.map(e=>({id:null,estimateID:e.estimateID,vehicleLicenseNumber:e.vehicleLicenseNumber,departmentID:e.departmentID??null,startDate:e.startDate??null,endDate:e.endDate??null,currentState:e.currentState??null,remarks:e.remarks??null,estStartDate:e.estStartDate??null,estEndDate:e.estEndDate??null,opsUnitID:e.opsUnitID??null,createdBy:e.createdBy??null,createdDate:e.createdDate??null,lastModifiedBy:e.lastModifiedBy??null,lastModifiedDate:e.lastModifiedDate??null,jobID:t.toString(),jobCard:{id:t}})).forEach(e=>{let s=S(D({},e),{id:null});console.log("New job Estimate",s),this._jobEstimateService.create(s).subscribe({next:u=>{let f=u.body;console.log("Job estimate saved:",f),this._snackBarService.open("Job Estimate Created Successfully!","Close",{duration:3e3})},error:u=>{console.error("Error Saving Job Estimate:",u),this._snackBarService.open("Error!","Close",{duration:3e3})}})})}updateJobCard(){let t=S(D({},this.jobCardForm.getRawValue()),{id:this.jobID,vehicleID:this.jobCardDetails.vehicleID,vehicleLicenseNumber:this.jobCardDetails.vehicleLicenseNumber,vehicleBrand:this.jobCardDetails.vehicleBrand,vehicleModel:this.jobCardDetails.vehicleModel,vehicleOwnerID:this.jobCardDetails.vehicleOwnerID,vehicleOwnerName:this.jobCardDetails.vehicleOwnerName,vehicleOwnerContactNumber1:this.jobCardDetails.vehicleOwnerContactNumber1,vehicleOwnerContactNumber2:this.jobCardDetails.vehicleOwnerContactNumber2,insuranceCompany:this.insuranceProvider,numberOfPanels:this.numberOfPanels,serviceAdvisor:this.jobCardDetails.serviceAdvisor,serviceAdvisorID:this.jobCardDetails.serviceAdvisorID,estimateID:this.jobCardDetails.estimateID,ownerBelongings:this.jobCardDetails.ownerBelongings,jobCardNumber:this.jobCardDetails.jobCardNumber});if(this.jobCardDetails.vehicleID===null||this.jobCardDetails.vehicleLicenseNumber===""){this.show("alertBox4"),setTimeout(()=>this.dismiss("alertBox4"),4e3);return}this._jobCardRegistryService.update(t).subscribe(i=>{console.log("Job Card Created: ",i),i.body&&this.updateRecords(0)})}updateJobItemTimeEstimationService(t){this.allSelectedTreatments.map(e=>({id:e.id,jobID:t.toString()??null,departmentID:e.departmentID??null,estimateID:e.estimateID,vehicleLicenseNumber:e.vehicleLicenseNumber,startDate:e.startDate??null,endDate:e.endDate??null,currentState:e.currentState??null,remarks:e.remarks??null,estStartDate:e.estStartDate??null,estEndDate:e.estEndDate??null,opsUnitID:e.opsUnitID??null,createdBy:e.createdBy??null,createdDate:e.createdDate??null,lastModifiedBy:e.lastModifiedBy??null,lastModifiedDate:e.lastModifiedDate??null,jobCard:{id:t}})).forEach(e=>{this._jobEstimateService.update(e).subscribe({next:s=>{console.log("Job estimate saved:",s),this._snackBarService.open("Job Estimate Updated Successfully!","Close",{duration:3e3})},error:s=>{this._snackBarService.open("Error Updated!","Close",{duration:3e3}),console.error("Error Saving Job Estimate:",s)}})})}dismiss(t){this._fuseAlertService.dismiss(t)}show(t){this._fuseAlertService.show(t)}createRecords(t){let i=this.allSelectedTreatments[t];this._jobEstimateService.create(i).subscribe(e=>{let s=e.body?.id;if(!s){console.error("Failed to create job estimate record");return}console.log("Created Job Estimate with ID:",s);let u=i.jobEstimateWorkLogs||[],f=()=>{t+1<this.allSelectedTreatments.length?this.createRecords(t+1):(this.jobID&&(this.isUpdating=!0,this._jobCardRegistryService.find(parseInt(this.jobID)).subscribe(p=>{if(p.body){this.jobCardDetails=p.body,console.log("\u{1F6E0}\uFE0F Job Card For Update:",p.body),this.jobCardForm.patchValue(D({},p.body));let c=p.body,w=S(D({},c),{startDate:c.startDate?.toDate?.()??c.startDate,jobCompleteDate:c.jobCompleteDate?.toDate?.()??c.jobCompleteDate,boothDate:c.boothDate?.toDate?.()??c.boothDate,createdDate:c.createdDate?.toDate?.()??c.createdDate,lastModifiedDate:c.lastModifiedDate?.toDate?.()??c.lastModifiedDate,tinkeringStartDateTime:c.tinkeringStartDateTime?.toDate?.()??c.tinkeringStartDateTime,tinkeringEndDateTime:c.tinkeringEndDateTime?.toDate?.()??c.tinkeringEndDateTime,paintStartDateTime:c.paintStartDateTime?.toDate?.()??c.paintStartDateTime,paintEndDateTime:c.paintEndDateTime?.toDate?.()??c.paintEndDateTime,fittingStartDateTime:c.fittingStartDateTime?.toDate?.()??c.fittingStartDateTime,fittingEndDateTime:c.fittingEndDateTime?.toDate?.()??c.fittingEndDateTime,qcStartDateTime:c.qcStartDateTime?.toDate?.()??c.qcStartDateTime,qcEndDateTime:c.qcEndDateTime?.toDate?.()??c.qcEndDateTime,sparePartStartDateTime:c.sparePartStartDateTime?.toDate?.()??c.sparePartStartDateTime,sparePartEndDateTime:c.sparePartEndDateTime?.toDate?.()??c.sparePartEndDateTime});this.jobCardForm.patchValue(w),this.numberOfPanels=p.body.numberOfPanels,this.insuranceProvider=p.body.insuranceCompany,this.selectedVehicleandClientDetails={vehicle:{id:parseInt(p.body.vehicleID,10),licenseNo:p.body.vehicleLicenseNumber,brand:p.body.vehicleBrand,model:p.body.vehicleModel},client:{id:parseInt(p.body.vehicleOwnerID,10),name:p.body.vehicleOwnerName,contactNumber1:p.body.vehicleOwnerContactNumber1,contactNumber2:p.body.vehicleOwnerContactNumber2}},this._jobEstimateService.query({"jobCardId.equals":`${p.body.id}`}).subscribe(N=>{let j=(N.body||[]).map(b=>S(D({},b),{startDate:b.startDate?b.startDate.toDate?.()??b.startDate:null,endDate:b.endDate?b.endDate.toDate?.()??b.endDate:null,estStartDate:b.estStartDate?b.estStartDate.toDate?.()??b.estStartDate:null,estEndDate:b.estEndDate?b.estEndDate.toDate?.()??b.estEndDate:null}));j.forEach(b=>{let L=parseInt(b.estimateID||"0",10);L&&!this.selectedEstimateIds.includes(L)&&this.selectedEstimateIds.push(L),b.id&&this.jobEstimateWorkLogService.query({"jobEstimateId.equals":b.id}).subscribe(rt=>{let V=rt.body||[],G=this.allSelectedTreatments.findIndex(B=>B.id===b.id);G>-1&&(this.allSelectedTreatments[G].jobEstimateWorkLogs=V);let z=this.selectedTreatmentsForJobCard.findIndex(B=>B.id===b.id);z>-1&&(this.selectedTreatmentsForJobCard[z].jobEstimateWorkLogs=V),console.log(`\u{1F4CB} Work Logs for Job Estimate ${b.id}:`,V)})}),this.allSelectedTreatments=j,this.selectedEstimateIds.length>0&&this.filterItems(this.selectedEstimateIds[0]),console.log("Job Item For Update:",j)}),this.showDetails=!0}})),this.finalizeAfterAllEstimatesCreated())};if(u.length===0){f();return}let m=u.map(p=>this.jobEstimateWorkLogService.create(S(D({},p),{jobEstimate:{id:s}})));A(m).subscribe({next:()=>{console.log(`\u{1F6E0}\uFE0F Created ${u.length} work logs for estimate ${s}`),f()},error:p=>{console.error("\u274C Failed to create work logs:",p),f()}})})}finalizeAfterAllEstimatesCreated(){this._fuseConfirmationService.open({title:"Success!",message:"All job estimates and work logs have been created successfully.",icon:{name:"heroicons_outline:check-circle",color:"accent"},dismissible:!0,actions:{confirm:{label:"OK",color:"primary"}}})}toDate(t){return t?.toDate?.()??t??null}updateRecords(t){let i=this.allSelectedTreatments[t];i.id?this._jobEstimateService.update(i).subscribe(e=>{let s=e.body?.id;if(!s){console.error("Failed to update job estimate record");return}console.log("Updated Job Estimate with ID:",s);let u=i.jobEstimateWorkLogs,f=()=>{t+1<this.allSelectedTreatments.length?this.updateRecords(t+1):this._fuseConfirmationService.open({title:"Updates Complete!",message:"All job estimates and work logs have been updated successfully.",icon:{name:"heroicons_outline:check-circle",color:"accent"},dismissible:!0,actions:{confirm:{label:"OK",color:"primary"}}})};if(!u||u.length===0){f();return}let m=u.map(p=>{let c=S(D({},p),{jobEstimate:{id:s}});return p.id?this.jobEstimateWorkLogService.update(c):this.jobEstimateWorkLogService.create(c)});A(m).subscribe({next:()=>{console.log(`Work logs for estimate ${s} handled.`),f()},error:p=>{console.error("Failed to update/create work logs:",p)}})}):console.error("Cannot update a record without an ID:",i)}getNexJobID(){let t={page:0,size:1,sort:"id,desc"};return new Promise(i=>{this._jobCardRegistryService.query(t).subscribe(e=>{let s=e.body?.[0],u="JOB-000001";s?.jobCardNumber&&(u="JOB-"+(parseInt(s.jobCardNumber.replace("JOB-",""),10)+1).toString().padStart(6,"0")),i(u)})})}static{this.\u0275fac=function(i){return new(i||d)(I(je),I(Ue),I(Ze),I(Ye),I(Be),I(ae),I(Re),I(be))}}static{this.\u0275cmp=H({type:d,selectors:[["app-jobcard-create"]],decls:9,vars:6,consts:[["picker",""],["jpicker",""],["bpicker",""],["tinkStart",""],["tinkEnd",""],["paintStart",""],["paintEnd",""],["spStart",""],["spEnd",""],["fwStart",""],["fwEnd",""],["end",""],[1,"absolute","inset-0","flex","min-w-0","flex-col","overflow-auto"],["class","bg-default flex flex-0 flex-col dark:bg-transparent sm:flex-row sm:items-center sm:justify-between sm:px-6 sm:pt-3",4,"ngIf"],["class","px-6 py-2 bg-gray-100",4,"ngIf"],["class","flex flex-col gap-2 py-2 px-6",4,"ngIf"],["class","flex gap-4 px-6 mt-3",4,"ngIf"],[1,"px-4","mt-6","mb-3"],[1,"flex","flex-wrap","gap-1","px-2"],["class","bg-amber-500 text-white text-base font-medium px-4 py-2 rounded-xl shadow-sm hover:bg-amber-600 hover:scale-105 transition-all duration-200 ease-in-out cursor-pointer",3,"click",4,"ngFor","ngForOf"],["class","px-6 w-full",4,"ngIf"],[1,"bg-default","flex","flex-0","flex-col","dark:bg-transparent","sm:flex-row","sm:items-center","sm:justify-between","sm:px-6","sm:pt-3"],[1,"min-w-0","flex-1","mb-6","border-b"],[1,"mt-2"],[1,"flex","justify-between","items-center","mb-6","gap-3"],[1,"flex","items-center","gap-2"],[1,"px-1","py-1","text-white","rounded-xl","transition-all","bg-amber-400"],[1,"flex","h-10","w-10","items-center","justify-center","rounded-lg","bg-indigo-100","text-indigo-800","dark:bg-indigo-600","dark:text-indigo-50"],[1,"text-current","text-2xl",3,"svgIcon"],[1,"flex","w-full","flex-1","items-center","gap-2"],[1,"relative","w-full"],[1,"w-full","p-3","pl-12","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-amber-400",3,"keydown.enter","formControl","placeholder"],[1,"absolute","inset-y-0","left-0","flex","items-center","pl-3","pointer-events-none","text-gray-400"],["class","px-4 py-5 bg-gradient-to-r from-indigo-500 to-blue-500 hover:from-indigo-600 hover:to-blue-600 rounded-lg shadow text-white flex items-center transition-all duration-200","mat-button","",3,"click",4,"ngIf"],["class","px-4 py-6 bg-gradient-to-r from-yellow-500 to-amber-500 hover:from-indigo-600 hover:to-blue-600 rounded-lg shadow text-white flex items-center transition-all duration-200","mat-button","",3,"click",4,"ngIf"],[1,"flex","flex-col","gap-2","h-16"],[3,"appearance","dismissible","dismissed","name","type"],["mat-button","",1,"px-4","py-5","bg-gradient-to-r","from-indigo-500","to-blue-500","hover:from-indigo-600","hover:to-blue-600","rounded-lg","shadow","text-white","flex","items-center","transition-all","duration-200",3,"click"],[1,""],["mat-button","",1,"px-4","py-6","bg-gradient-to-r","from-yellow-500","to-amber-500","hover:from-indigo-600","hover:to-blue-600","rounded-lg","shadow","text-white","flex","items-center","transition-all","duration-200",3,"click"],[1,"px-6","py-2","bg-gray-100"],[1,"text-2xl","font-bold","text-gray-800","mb-3","ml-3"],[1,"grid","grid-cols-1","sm:grid-cols-2","md:grid-cols-3","xl:grid-cols-4","gap-3"],["class","bg-white rounded-lg shadow-md hover:shadow-xl transition-all duration-300 cursor-pointer p-6 group border-4 border-transparent hover:border-indigo-500",3,"click",4,"ngFor","ngForOf"],[1,"bg-white","rounded-lg","shadow-md","hover:shadow-xl","transition-all","duration-300","cursor-pointer","p-6","group","border-4","border-transparent","hover:border-indigo-500",3,"click"],[1,"flex","justify-between","items-center","mb-2"],[1,"text-sm","text-gray-400"],[1,"text-xs","font-semibold","bg-indigo-100","text-indigo-700","px-3","py-1","rounded-full","group-hover:bg-indigo-200"],[1,"space-y-1","mb-2"],[1,"text-lg","font-semibold","text-gray-900","truncate"],[1,"text-sm","text-gray-600"],[1,"font-medium","text-gray-800"],[1,"flex","justify-end"],[1,"text-xs","text-indigo-600","font-medium","group-hover:underline"],[1,"flex","flex-col","gap-2","py-2","px-6"],[1,"flex","gap-4","px-6","mt-3"],[1,"rounded-2xl","w-full"],[1,"bg-white","flex","flex-col","rounded-lg","p-6","h-full","space-y-0"],[1,"w-full","mb-6","flex","justify-between","items-center"],["class","text-xl text-white bg-indigo-600 rounded-full px-3 py-1 group-hover:bg-indigo-700 transition",4,"ngIf"],[1,"flex","flex-row","gap-3"],["mat-button","",1,"px-4","py-3","bg-gradient-to-r","from-indigo-500","to-blue-500","hover:from-indigo-600","hover:to-blue-600","rounded-lg","shadow","text-white","flex","items-center","transition-all","duration-200",3,"click"],[1,"mr-2"],["class","icon-size-5 text-white",3,"svgIcon",4,"ngIf"],["class","px-4 py-3 bg-gradient-to-r from-yellow-500 to-amber-500 hover:from-indigo-600 hover:to-blue-600 rounded-lg shadow text-white flex items-center transition-all duration-200","mat-button","",3,"click",4,"ngIf"],[1,"flex","flex-col","md:flex-row","gap-6"],[1,"flex","flex-1","items-center"],[1,"flex","h-14","w-14","items-center","justify-center","rounded-2xl","bg-indigo-100","text-indigo-800","dark:bg-indigo-600","dark:text-indigo-50"],[1,"text-current","text-xl",3,"svgIcon"],[1,"ml-4","leading-tight"],[1,"text-secondary","text-sm","font-medium"],[1,"text-lg","font-semibold"],[1,"bg-amber-500","text-white","px-3","py-1","mt-2","text-sm","rounded-lg"],[1,"text-sm","text-gray-500"],[1,"flex","flex-wrap","gap-2","mt-2"],[1,"bg-amber-500","text-white","px-3","py-1","rounded-lg"],[1,"bg-red-500","text-white","px-3","py-1","rounded-lg"],[1,"flex","h-14","w-14","items-center","justify-center","rounded-2xl","bg-teal-100","text-teal-800","dark:bg-teal-600","dark:text-teal-50"],[1,"text-sm","text-gray-500","mt-1"],[1,"bg-teal-500","text-white","px-3","py-1","rounded-lg"],[1,"bg-teal-500","text-white","px-3","mt-1","py-1","rounded-lg"],[1,"flex","h-14","w-14","items-center","justify-center","rounded-2xl","bg-red-100","text-red-800","dark:bg-teal-600","dark:text-teal-50"],[4,"ngIf"],[1,"text-xl","text-white","bg-indigo-600","rounded-full","px-3","py-1","group-hover:bg-indigo-700","transition"],[1,"icon-size-5","text-white",3,"svgIcon"],["mat-button","",1,"px-4","py-3","bg-gradient-to-r","from-yellow-500","to-amber-500","hover:from-indigo-600","hover:to-blue-600","rounded-lg","shadow","text-white","flex","items-center","transition-all","duration-200",3,"click"],[1,"w-full","bg-card","p-6","rounded-lg","mb-3"],[1,"space-y-6",3,"formGroup"],[1,"flex","gap-4","justify-center","items-center"],[1,"w-full"],["matInput","","formControlName","fuelLevel"],[1,"absolute","inset-y-0","right-0","flex","items-center","pr-3","pointer-events-none","text-gray-500","text-lg","font-semibold"],["matInput","","formControlName","meterReading"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],[1,"flex","justify-between","gap-3"],["matInput","","formControlName","startDate",3,"matDatepicker"],["matSuffix","",3,"for"],[1,"flex","items-center","justify-center"],[1,"text-2xl","text-red-500"],["matInput","","formControlName","jobCompleteDate",3,"matDatepicker"],["matInput","","formControlName","boothDate",3,"matDatepicker"],["matInput","","formControlName","tinkeringStartDateTime",3,"matDatepicker"],["matInput","","formControlName","tinkeringEndDateTime",3,"matDatepicker"],["matInput","","formControlName","paintStartDateTime",3,"matDatepicker"],["matInput","","formControlName","paintEndDateTime",3,"matDatepicker"],["matInput","","formControlName","sparePartStartDateTime",3,"matDatepicker"],["matInput","","formControlName","sparePartEndDateTime",3,"matDatepicker"],["matInput","","formControlName","fittingStartDateTime",3,"matDatepicker"],["matInput","","formControlName","fittingEndDateTime",3,"matDatepicker"],[1,"bg-amber-500","text-white","text-base","font-medium","px-4","py-2","rounded-xl","shadow-sm","hover:bg-amber-600","hover:scale-105","transition-all","duration-200","ease-in-out","cursor-pointer",3,"click"],[1,"px-6","w-full"],[1,"p-4","bg-white","rounded-lg"],[1,"text-2xl","font-bold","capitalize","mb-4","text-indigo-600"],[1,"overflow-x-auto"],[1,"flex","flex-col","gap-2","min-w-max","text-sm","text-gray-800","px-4","mb-10"],[1,"flex","font-semibold","text-gray-700"],[1,"w-full","ml-2"],["class","flex gap-4 h-full",4,"ngFor","ngForOf"],[1,"flex","gap-4","h-full"],[1,"w-full","p-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-amber-400","appearance-none",3,"ngModelChange","ngModel"],["value","","disabled","","selected","","hidden",""],["value","SPARE_PARTS"],["value","PAINT"],["value","FITTING_CHARGES"],["value","REPAIRING"],["matInput","","placeholder","Start date",1,"p-3","pr-10","border","border-gray-300","rounded-lg","w-full","focus:ring-2","focus:ring-amber-400",3,"ngModelChange","matDatepicker","ngModel"],["matSuffix","",1,"absolute","right-2","top-1/2","-translate-y-1/2","text-gray-500","cursor-pointer",3,"for"],["matInput","","placeholder","End date",1,"p-3","pr-10","border","border-gray-300","rounded-lg","w-full","focus:ring-2","focus:ring-amber-400",3,"ngModelChange","matDatepicker","ngModel"],[1,"w-full","p-3","border","border-gray-300","rounded-lg",3,"ngModelChange","ngModel"],["value","OPEN"],["value","CANCELED"],["value","COMPLETE"],["value","CLOSED"],["value","QC_PENDING"],["value","QC_APPROVED"],["value","QCPD"],["value","QCPD_PENDING"],["value","QCPD_TO_PENDING"],["type","text",1,"w-full","p-3","border","border-gray-300","rounded-lg",3,"ngModelChange","ngModel"]],template:function(i,e){i&1&&(r(0,"div",12),y(1,lt,19,11,"div",13)(2,dt,5,1,"div",14)(3,mt,3,5,"div",15)(4,ft,52,16,"div",16),r(5,"div",17)(6,"div",18),y(7,gt,2,1,"div",19),a()(),y(8,Dt,18,2,"div",20),a()),i&2&&(o(),l("ngIf",!e.jobID),o(),l("ngIf",(e.resentEsitamte==null?null:e.resentEsitamte.length)>0),o(),l("ngIf",!(!(e.selectedVehicleandClientDetails==null||e.selectedVehicleandClientDetails.vehicle==null)&&e.selectedVehicleandClientDetails.vehicle.licenseNo)),o(),l("ngIf",e.jobCardDetails),o(3),l("ngForOf",e.selectedEstimateIds),o(),l("ngIf",e.selectedTreatmentsForJobCard.length>0))},dependencies:[ie,Z,ee,te,ne,de,se,oe,le,Te,_e,Ie,ke,ge,we,ve,De,Ce,Ne,Ee,Se,ye,ce,me,ue,pe,fe,Fe,Pe,Je,re,Oe,Me,Ae,Ke,He,ze,$e,Qe,Ve,tt,Ge,it],encapsulation:2})}}return d})();var ci=[{path:"",component:at}];export{ci as default};
