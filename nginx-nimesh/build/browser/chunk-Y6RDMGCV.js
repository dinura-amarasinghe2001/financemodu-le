import{a as i,b as g,c}from"./chunk-YEGTZ3HQ.js";import{a as v}from"./chunk-5RBAZJQA.js";import{w as S,y as T}from"./chunk-MZLVPJ5Q.js";import{K as f,a as s,b as p,ia as h,oa as m,p as d,r as u,y as r}from"./chunk-2GFQMTJ2.js";var $=(()=>{class a{constructor(){this.http=m(T),this.applicationConfigService=m(v),this.resourceUrl=this.applicationConfigService.getEndpointFor("api/job-cards","operationsmodule"),this.resourceSearchUrl=this.applicationConfigService.getEndpointFor("api/job-cards/_search","operationsmodule")}create(e){let t=this.convertDateFromClient(e);return this.http.post(this.resourceUrl,t,{observe:"response"}).pipe(r(n=>this.convertResponseFromServer(n)))}update(e){let t=this.convertDateFromClient(e);return this.http.put(`${this.resourceUrl}/${this.getJobCardIdentifier(e)}`,t,{observe:"response"}).pipe(r(n=>this.convertResponseFromServer(n)))}partialUpdate(e){let t=this.convertDateFromClient(e);return this.http.patch(`${this.resourceUrl}/${this.getJobCardIdentifier(e)}`,t,{observe:"response"}).pipe(r(n=>this.convertResponseFromServer(n)))}find(e){return this.http.get(`${this.resourceUrl}/${e}`,{observe:"response"}).pipe(r(t=>this.convertResponseFromServer(t)))}query(e){let t=c(e);return this.http.get(this.resourceUrl,{params:t,observe:"response"}).pipe(r(n=>this.convertResponseArrayFromServer(n)))}delete(e){return this.http.delete(`${this.resourceUrl}/${e}`,{observe:"response"})}search(e){let t=c(e);return this.http.get(this.resourceSearchUrl,{params:t,observe:"response"}).pipe(r(n=>this.convertResponseArrayFromServer(n)),f(()=>u([new S],d)))}getJobCardIdentifier(e){return e.id}compareJobCard(e,t){return e&&t?this.getJobCardIdentifier(e)===this.getJobCardIdentifier(t):e===t}addJobCardToCollectionIfMissing(e,...t){let n=t.filter(g);if(n.length>0){let D=e.map(o=>this.getJobCardIdentifier(o));return[...n.filter(o=>{let l=this.getJobCardIdentifier(o);return D.includes(l)?!1:(D.push(l),!0)}),...e]}return e}convertDateFromClient(e){return p(s({},e),{startDate:e.startDate?.toJSON()??null,jobCompleteDate:e.jobCompleteDate?.toJSON()??null,boothDate:e.boothDate?.toJSON()??null,tinkeringStartDateTime:e.tinkeringStartDateTime?.toJSON()??null,tinkeringEndDateTime:e.tinkeringEndDateTime?.toJSON()??null,paintStartDateTime:e.paintStartDateTime?.toJSON()??null,paintEndDateTime:e.paintEndDateTime?.toJSON()??null,qcStartDateTime:e.qcStartDateTime?.toJSON()??null,qcEndDateTime:e.qcEndDateTime?.toJSON()??null,sparePartStartDateTime:e.sparePartStartDateTime?.toJSON()??null,sparePartEndDateTime:e.sparePartEndDateTime?.toJSON()??null,fittingStartDateTime:e.fittingStartDateTime?.toJSON()??null,fittingEndDateTime:e.fittingEndDateTime?.toJSON()??null,createdDate:e.createdDate?.toJSON()??null,lastModifiedDate:e.lastModifiedDate?.toJSON()??null})}convertDateFromServer(e){return p(s({},e),{startDate:e.startDate?i(e.startDate):void 0,jobCompleteDate:e.jobCompleteDate?i(e.jobCompleteDate):void 0,boothDate:e.boothDate?i(e.boothDate):void 0,tinkeringStartDateTime:e.tinkeringStartDateTime?i(e.tinkeringStartDateTime):void 0,tinkeringEndDateTime:e.tinkeringEndDateTime?i(e.tinkeringEndDateTime):void 0,paintStartDateTime:e.paintStartDateTime?i(e.paintStartDateTime):void 0,paintEndDateTime:e.paintEndDateTime?i(e.paintEndDateTime):void 0,qcStartDateTime:e.qcStartDateTime?i(e.qcStartDateTime):void 0,qcEndDateTime:e.qcEndDateTime?i(e.qcEndDateTime):void 0,sparePartStartDateTime:e.sparePartStartDateTime?i(e.sparePartStartDateTime):void 0,sparePartEndDateTime:e.sparePartEndDateTime?i(e.sparePartEndDateTime):void 0,fittingStartDateTime:e.fittingStartDateTime?i(e.fittingStartDateTime):void 0,fittingEndDateTime:e.fittingEndDateTime?i(e.fittingEndDateTime):void 0,createdDate:e.createdDate?i(e.createdDate):void 0,lastModifiedDate:e.lastModifiedDate?i(e.lastModifiedDate):void 0})}convertResponseFromServer(e){return e.clone({body:e.body?this.convertDateFromServer(e.body):null})}convertResponseArrayFromServer(e){return e.clone({body:e.body?e.body.map(t=>this.convertDateFromServer(t)):null})}static{this.\u0275fac=function(t){return new(t||a)}}static{this.\u0275prov=h({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();export{$ as a};
