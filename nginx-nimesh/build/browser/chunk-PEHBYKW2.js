import{c as ze}from"./chunk-XGCX3TDA.js";import{a as Ee,b as Ne,c as Ge,d as Te,e as Fe,f as Ve,g as ke,h as Re,i as Oe,j as Le,k as Be,l as Ae}from"./chunk-4HPTI4QK.js";import{a as Pe,b as ye,c as Ie}from"./chunk-Z5CSESBH.js";import{a as R,b as He}from"./chunk-4IV6I57G.js";import{a as L}from"./chunk-A6AKI5EW.js";import{b as je}from"./chunk-T73PE35A.js";import{a as We,b as Qe,c as Xe,d as Je}from"./chunk-6GYTZCHH.js";import{a as $e,b as qe,c as Ue,h as O}from"./chunk-ZGGKBBB7.js";import{a as De}from"./chunk-E4TC4E2W.js";import"./chunk-YEGTZ3HQ.js";import{a as se}from"./chunk-QQNGDF4M.js";import"./chunk-YK5MGRE7.js";import"./chunk-OT3AQSDR.js";import{b as Se}from"./chunk-HN3GTZ22.js";import{b as Me}from"./chunk-2V7PXVXU.js";import{d as _e}from"./chunk-4WAQRQWE.js";import{d as de}from"./chunk-KKTU7MAV.js";import{b as we}from"./chunk-HLRQKUHW.js";import"./chunk-5RBAZJQA.js";import{A as ge,B as ve,F as Ce,G as be,H as xe,J as T,K as F,O as V,P as k,b as oe,d as le,e as re,i as D,j as P,l as N,q as G,r as ce,u as pe,x as ue,y as fe,z as he}from"./chunk-MXRUEL7B.js";import{b as me,c as E}from"./chunk-PNSBUHWU.js";import{a as ee,b as te,c as ie,e as ae,f as ne,g as w}from"./chunk-TEYA6QDP.js";import"./chunk-JTAP5U5F.js";import{a as y,d as I}from"./chunk-VPJKTFM7.js";import{X as Y,ia as Z}from"./chunk-GXFYRQIF.js";import"./chunk-T4I3R2GV.js";import{e as J,i as K}from"./chunk-DJWEABC6.js";import{r as S}from"./chunk-MZLVPJ5Q.js";import{Aa as C,Ac as A,Bc as a,Db as _,Dc as p,Ic as Q,Jc as z,Kb as u,Kc as X,Tb as d,a as B,cc as i,dc as e,ec as s,fc as f,gc as h,ic as M,nb as m,oa as H,ob as g,oc as b,qc as $,uc as q,vc as U,wc as W,za as v}from"./chunk-2GFQMTJ2.js";var j=(()=>{class t{constructor(n,r,o,c){this.dialogRef=n,this.data=r,this._fb=o,this._gatePassRegistryService=c}ngOnInit(){this.gatePassForm=this._fb.group({id:[null],vehicleID:[null],vehicleBrand:[null],vehicleModel:[null],vehicleLicenseNumber:[null],vehicleOwnerID:[null],vehicleOwnerName:[null],vehicleOwnerContactNumber1:[null],vehicleOwnerContactNumber2:[null],fuelLevel:[null],meterReading:[null],frontView1:[null],sideRView1:[null],sideLView1:[null],rearView1:[null],jobCardNumber:[null],receiptValue:[null],entryDateTime:[null],opsUnitID:[null],createdBy:[null],createdDate:[null],lastModifiedBy:[null],lastModifiedDate:[null]}),this.data?.gatePass&&this.gatePassForm.patchValue(this.data.gatePass)}submitGatePass(){let n=this.gatePassForm.value,r={id:null,vehicleID:this.gatePassForm.get("vehicleID").value,vehicleBrand:this.gatePassForm.get("vehicleBrand").value,vehicleModel:this.gatePassForm.get("vehicleModel").value,vehicleLicenseNumber:this.gatePassForm.get("vehicleLicenseNumber").value,vehicleOwnerID:this.gatePassForm.get("vehicleOwnerID").value,vehicleOwnerName:this.gatePassForm.get("vehicleOwnerName").value,vehicleOwnerContactNumber1:this.gatePassForm.get("vehicleOwnerContactNumber1").value,vehicleOwnerContactNumber2:this.gatePassForm.get("vehicleOwnerContactNumber2").value,fuelLevel:this.gatePassForm.get("fuelLevel").value,meterReading:this.gatePassForm.get("meterReading").value,frontView1:this.gatePassForm.get("frontView1").value,sideRView1:this.gatePassForm.get("sideRView1").value,sideLView1:this.gatePassForm.get("sideLView1").value,rearView1:this.gatePassForm.get("rearView1").value,jobCardNumber:this.gatePassForm.get("jobCardNumber").value,receiptValue:this.gatePassForm.get("receiptValue").value,entryDateTime:this.gatePassForm.get("entryDateTime").value};if(this.data?.gatePass?.id){let o=B(B({},this.data.gatePass),n);this._gatePassRegistryService.update(o).subscribe(c=>{console.log("GatePass Updated Successfully",c),this.dialogRef.close(!0)})}else this._gatePassRegistryService.create(n).subscribe(o=>{console.log("GatePass Created Successfully",o),this.dialogRef.close(!0)})}cancel(){this.dialogRef.close()}static{this.\u0275fac=function(r){return new(r||t)(g(ee),g(te),g(xe),g(L))}}static{this.\u0275cmp=_({type:t,selectors:[["app-gatepass-add-wizard"]],features:[Q([Y()])],decls:90,vars:11,consts:[["picker",""],["timepicker",""],[1,"flex","flex-col","items-center","p-3","text-center","text-xl","font-semibold","text-gray-800","dark:text-white"],[1,"flex","flex-col","space-y-4"],[3,"formGroup"],[1,"grid","grid-cols-3","md:grid-cols-3","gap-4"],[1,"w-full"],["matInput","","formControlName","vehicleID"],["matInput","","formControlName","vehicleBrand"],["matInput","","formControlName","vehicleModel"],["matInput","","formControlName","vehicleLicenseNumber"],["matInput","","formControlName","vehicleOwnerID"],["matInput","","formControlName","vehicleOwnerName"],["matInput","","formControlName","vehicleOwnerContactNumber1"],["matInput","","formControlName","vehicleOwnerContactNumber2"],["matInput","","formControlName","fuelLevel"],["matInput","","formControlName","meterReading"],["matInput","","formControlName","frontView1"],["matInput","","formControlName","sideRView1"],["matInput","","formControlName","sideLView1"],["matInput","","formControlName","rearView1"],["matInput","","formControlName","jobCardNumber"],["matInput","","type","number","formControlName","receiptValue","min","1","step","1"],[1,"w-full","-ml-2"],["matInput","",3,"matDatepicker","formControlName","required"],["matSuffix","",3,"for"],["matInput","",3,"matTimepicker","formControlName","required"],["matInput","","formControlName","opsUnitID"],[1,"flex","flex-col","items-center","p-1","text-center"],[1,"flex","space-x-3"],["mat-button","",1,"rounded-lg","bg-gray-200","px-4","py-2","text-2xl","text-gray-600","hover:bg-gray-300","dark:bg-gray-700","dark:text-white","dark:hover:bg-gray-600",3,"click"],["mat-button","",1,"rounded-lg","bg-red-500","px-4","py-2","text-2xl","text-white","shadow-lg","hover:bg-red-600","focus:outline-none","focus:ring","focus:ring-red-300",3,"click"]],template:function(r,o){if(r&1){let c=M();i(0,"h2",2),a(1),e(),i(2,"mat-dialog-content",3)(3,"form",4)(4,"div",5)(5,"mat-form-field",6)(6,"mat-label"),a(7,"Vehicle ID"),e(),s(8,"input",7),e(),i(9,"mat-form-field",6)(10,"mat-label"),a(11,"Vehicle Brand"),e(),s(12,"input",8),e(),i(13,"mat-form-field",6)(14,"mat-label"),a(15,"Vehicle Model"),e(),s(16,"input",9),e(),i(17,"mat-form-field",6)(18,"mat-label"),a(19,"License Number"),e(),s(20,"input",10),e(),i(21,"mat-form-field",6)(22,"mat-label"),a(23,"Owner ID"),e(),s(24,"input",11),e(),i(25,"mat-form-field",6)(26,"mat-label"),a(27,"Owner Name"),e(),s(28,"input",12),e(),i(29,"mat-form-field",6)(30,"mat-label"),a(31,"Owner Contact Number1"),e(),s(32,"input",13),e(),i(33,"mat-form-field",6)(34,"mat-label"),a(35,"Owner Contact Number2"),e(),s(36,"input",14),e(),i(37,"mat-form-field",6)(38,"mat-label"),a(39,"Fuel Level"),e(),s(40,"input",15),e(),i(41,"mat-form-field",6)(42,"mat-label"),a(43,"Meter Reading"),e(),s(44,"input",16),e(),i(45,"mat-form-field",6)(46,"mat-label"),a(47,"Front View 1"),e(),s(48,"input",17),e(),i(49,"mat-form-field",6)(50,"mat-label"),a(51,"Side R View 1"),e(),s(52,"input",18),e(),i(53,"mat-form-field",6)(54,"mat-label"),a(55,"Side L View 1"),e(),s(56,"input",19),e(),i(57,"mat-form-field",6)(58,"mat-label"),a(59,"Rear View 1"),e(),s(60,"input",20),e(),i(61,"mat-form-field",6)(62,"mat-label"),a(63,"JobCard Number"),e(),s(64,"input",21),e(),i(65,"mat-form-field",6)(66,"mat-label"),a(67,"Receipt Value"),e(),s(68,"input",22),e(),i(69,"mat-form-field",23)(70,"mat-label"),a(71,"Entry Date Time"),e(),s(72,"input",24)(73,"mat-datepicker-toggle",25)(74,"mat-datepicker",null,0)(76,"input",26)(77,"mat-timepicker-toggle",25)(78,"mat-timepicker",null,1),e(),i(80,"mat-form-field",6)(81,"mat-label"),a(82,"Ops Unit ID"),e(),s(83,"input",27),e()()()(),i(84,"mat-dialog-actions",28)(85,"div",29)(86,"button",30),b("click",function(){return v(c),C(o.cancel())}),a(87," Cancel "),e(),i(88,"button",31),b("click",function(){return v(c),C(o.submitGatePass())}),a(89),e()()()}if(r&2){let c=A(75),x=A(79);m(),p(" ",!(o.data==null||o.data.gatePass==null)&&o.data.gatePass.id?"Update GatePass":"Create GatePass"," "),m(2),d("formGroup",o.gatePassForm),m(69),d("matDatepicker",c)("formControlName","entryDateTime")("required",!0),m(),d("for",c),m(3),d("matTimepicker",x)("formControlName","entryDateTime")("required",!0),m(),d("for",x),m(12),p(" ",!(o.data==null||o.data.gatePass==null)&&o.data.gatePass.id?"Update":"Create"," ")}},dependencies:[S,w,ne,ae,P,D,oe,re,T,ue,N,fe,G,ce,be,Ce,F,ge,ve,I,y,E,de,Se,k,V,Z,Me,_e,we,Je,We,Qe,Xe,O,$e,qe,Ue],encapsulation:2,changeDetection:0})}}return t})();var ot=()=>["/gatepass-create"],lt=()=>[1,5,10,20],rt=t=>["/gatepass-view",t];function mt(t,l){t&1&&(i(0,"th",33),a(1," ID "),e())}function st(t,l){if(t&1&&(i(0,"td",34),a(1),e()),t&2){let n=l.$implicit;m(),p(" ",n.id," ")}}function dt(t,l){t&1&&(i(0,"th",35),a(1," Vehicle License No "),e())}function ct(t,l){if(t&1&&(i(0,"td",34),a(1),e()),t&2){let n=l.$implicit;m(),p(" ",n.vehicleLicenseNumber," ")}}function pt(t,l){t&1&&(i(0,"th",36),a(1," Vehicle Owner Name "),e())}function ut(t,l){if(t&1&&(i(0,"td",34),a(1),e()),t&2){let n=l.$implicit;m(),p(" ",n.vehicleOwnerName," ")}}function ft(t,l){t&1&&(i(0,"th",36),a(1," Vehicle Brand "),e())}function ht(t,l){if(t&1&&(i(0,"td",34),a(1),e()),t&2){let n=l.$implicit;m(),p(" ",n.vehicleBrand," ")}}function gt(t,l){t&1&&(i(0,"th",36),a(1," Vehicle Model "),e())}function vt(t,l){if(t&1&&(i(0,"td",34),a(1),e()),t&2){let n=l.$implicit;m(),p(" ",n.vehicleModel," ")}}function Ct(t,l){t&1&&(i(0,"th",36),a(1," Fuel Level "),e())}function bt(t,l){if(t&1&&(i(0,"td",34),a(1),e()),t&2){let n=l.$implicit;m(),p(" ",n.fuelLevel," ")}}function xt(t,l){t&1&&(i(0,"th",36),a(1," Meter Reading "),e())}function _t(t,l){if(t&1&&(i(0,"td",34),a(1),e()),t&2){let n=l.$implicit;m(),p(" ",n.meterReading," ")}}function Mt(t,l){t&1&&(i(0,"th",36),a(1," Entry Date Time "),e())}function St(t,l){if(t&1&&(i(0,"td",34),a(1),e()),t&2){let n=l.$implicit;m(),p(" ",n.entryDateTime," ")}}function wt(t,l){t&1&&(i(0,"th",37),a(1," Actions "),e())}function Dt(t,l){if(t&1){let n=M();i(0,"td",34)(1,"button",38),a(2," Update "),e(),i(3,"button",39),b("click",function(){let o=v(n).$implicit,c=$();return C(c.deleteGatePass(o))}),a(4," Delete "),e()()}if(t&2){let n=l.$implicit;m(),d("routerLink",X(1,rt,n.id))}}function Pt(t,l){t&1&&s(0,"tr",40)}function yt(t,l){t&1&&s(0,"tr",41)}var Ke=(()=>{class t{constructor(n,r,o){this._gatePassService=n,this._dialogService=r,this._snackBarService=o,this.dataSource=new Ae,this.searchInputControl=new pe,this.allGatePassDetails=[],this.noRecord=!1,this.displayedColumns=["id","vehicleLicenseNumber","vehicleOwnerName","vehicleBrand","vehicleModel","fuelLevel","meterReading","entryDateTime","action"],this.itemsPerPage=10,this.totalItems=0,this.page=1,this._fuseConfirmationService=H(se),this.searchInputControl.valueChanges.subscribe(c=>{this.page=0,this.searchGatePass()})}ngOnInit(){this.getallGatePassDetails()}ngAfterViewInit(){this._paginator.page.subscribe(()=>{this.page=this._paginator.pageIndex+1,this.itemsPerPage=this._paginator.pageSize,this.getallGatePassDetails()})}getallGatePassDetails(){let n={page:this.page-1,size:2e3,sort:"createdDate,desc"};this._gatePassService.query(n).subscribe(r=>{r.body?(this.dataSource.data=r.body,this.totalItems=Number(r.headers.get("X-Total-Count"))):this.dataSource.data=[],this.noRecord=this.dataSource.data.length===0})}searchGatePass(){let n=this.searchInputControl.value?.trim();if(!n){this.getallGatePassDetails();return}let r={page:this.page,size:this.itemsPerPage,"vehicleOwnerName.contains":n};this._gatePassService.query(r).subscribe(o=>{this.totalItems=Number(o.headers.get("X-Total-Count")),this.dataSource.data=o.body||[],this.noRecord=this.dataSource.data.length===0})}openGatePassEditDialog(n){this._dialogService.open(j,{width:"80vh",maxHeight:"90vh",data:{gatePass:n}}).afterClosed().subscribe(o=>{o&&(this._snackBarService.open("GatePass Updated Successfully!","Close",{duration:3e3}),this.getallGatePassDetails())})}deleteGatePass(n){this._fuseConfirmationService.open({title:"Delete GatePass",message:"Are you sure you want to delete this gatePass? This action cannot be undone!",icon:{name:"heroicons_outline:exclamation-triangle",color:"warn"},actions:{confirm:{label:"Delete",color:"warn"}}}).afterClosed().subscribe(o=>{o==="confirmed"&&this._gatePassService.delete(n.id).subscribe(()=>{this.getallGatePassDetails()})})}openGatePassCreateDialog(){this._dialogService.open(j,{width:"80vh",maxHeight:"90vh"}).afterClosed().subscribe(r=>{r&&(this._snackBarService.open("GatePass Created Successfully!","Close",{duration:3e3}),this.getallGatePassDetails())})}static{this.\u0275fac=function(r){return new(r||t)(g(L),g(ie),g(De))}}static{this.\u0275cmp=_({type:t,selectors:[["app-gatepass"]],viewQuery:function(r,o){if(r&1&&q(R,5),r&2){let c;U(c=W())&&(o._paginator=c.first)}},decls:48,vars:16,consts:[["paginator",""],[1,"absolute","inset-0","flex","min-w-0","flex-col","overflow-hidden"],[1,"bg-default","flex","flex-0","flex-col","p-6","pb-22","dark:bg-transparent","sm:flex-row","sm:items-center","sm:justify-between","sm:px-10","sm:pb-28","sm:pt-12"],[1,"min-w-0","flex-1"],[1,"mt-2"],[1,"truncate","text-3xl","font-extrabold","leading-7","tracking-tight","sm:leading-10","md:text-4xl"],[1,"mt-6","flex","shrink-0","items-center","sm:ml-4","sm:mt-0"],[1,"fuse-mat-dense","fuse-mat-rounded","min-w-64",3,"subscriptSizing"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["matInput","",3,"formControl","autocomplete","placeholder"],["mat-flat-button","",1,"ml-3",3,"color","routerLink"],[1,"icon-size-4",3,"svgIcon"],[1,"ml-2"],[1,"example-table-container","bg-card","-mt-16","h-full","rounded-t-2xl","shadow","overflow-auto"],[1,"flex","flex-col","flex-auto","sm:mb-18","overflow-auto"],["mat-table","","matSort","",1,"w-full","table-fixed","border-separate","border-spacing-y-2","px-6",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","","class","px-4 py-3 text-left font-semibold","style","width: 5%",4,"matHeaderCellDef"],["mat-cell","","class","px-4 py-2",4,"matCellDef"],["matColumnDef","vehicleLicenseNumber"],["mat-header-cell","","mat-sort-header","","class","px-4 py-3 text-left font-semibold",4,"matHeaderCellDef"],["matColumnDef","vehicleOwnerName"],["mat-header-cell","","mat-sort-header","","class","px-4 py-3 text-left font-semibold","style","width: 10%",4,"matHeaderCellDef"],["matColumnDef","vehicleBrand"],["matColumnDef","vehicleModel"],["matColumnDef","fuelLevel"],["matColumnDef","meterReading"],["matColumnDef","entryDateTime"],["matColumnDef","action"],["mat-header-cell","","class","px-4 py-3 text-left font-semibold",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","Select page of periodic elements",1,"bottom-0","justify-self-end",3,"length","pageSize","pageSizeOptions"],["mat-header-cell","","mat-sort-header","",1,"px-4","py-3","text-left","font-semibold",2,"width","5%"],["mat-cell","",1,"px-4","py-2"],["mat-header-cell","","mat-sort-header","",1,"px-4","py-3","text-left","font-semibold"],["mat-header-cell","","mat-sort-header","",1,"px-4","py-3","text-left","font-semibold",2,"width","10%"],["mat-header-cell","",1,"px-4","py-3","text-left","font-semibold"],["mat-flat-button","","color","primary",1,"fuse-mat-button-large","mr-2","mb-1",3,"routerLink"],["mat-flat-button","","color","warn",1,"fuse-mat-button-large",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(r,o){r&1&&(i(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"h2",5),a(5," Gate Pass "),e()()(),i(6,"div",6)(7,"mat-form-field",7),s(8,"mat-icon",8)(9,"input",9),e(),i(10,"button",10),s(11,"mat-icon",11),i(12,"span",12),a(13,"Create New GatePass"),e()()()(),i(14,"div",13)(15,"div",14)(16,"table",15),f(17,16),u(18,mt,2,0,"th",17)(19,st,2,1,"td",18),h(),f(20,19),u(21,dt,2,0,"th",20)(22,ct,2,1,"td",18),h(),f(23,21),u(24,pt,2,0,"th",22)(25,ut,2,1,"td",18),h(),f(26,23),u(27,ft,2,0,"th",22)(28,ht,2,1,"td",18),h(),f(29,24),u(30,gt,2,0,"th",22)(31,vt,2,1,"td",18),h(),f(32,25),u(33,Ct,2,0,"th",22)(34,bt,2,1,"td",18),h(),f(35,26),u(36,xt,2,0,"th",22)(37,_t,2,1,"td",18),h(),f(38,27),u(39,Mt,2,0,"th",22)(40,St,2,1,"td",18),h(),f(41,28),u(42,wt,2,0,"th",29)(43,Dt,5,3,"td",18),h(),u(44,Pt,1,0,"tr",30)(45,yt,1,0,"tr",31),e()()(),s(46,"mat-paginator",32,0),e()),r&2&&(m(7),d("subscriptSizing","dynamic"),m(),d("svgIcon","heroicons_solid:magnifying-glass"),m(),d("formControl",o.searchInputControl)("autocomplete","off")("placeholder","Search GatePass"),m(),d("color","primary")("routerLink",z(14,ot)),m(),d("svgIcon","heroicons_mini:plus"),m(5),d("dataSource",o.dataSource),m(28),d("matHeaderRowDef",o.displayedColumns),m(),d("matRowDefColumns",o.displayedColumns),m(),d("length",o.totalItems)("pageSize",o.itemsPerPage)("pageSizeOptions",z(15,lt)))},dependencies:[S,E,me,I,y,Ie,Pe,ye,w,T,N,G,F,he,Be,Ee,Ge,ke,Te,Ne,Re,Fe,Ve,Oe,Le,P,D,le,k,V,ze,He,R,O,je,K,J],encapsulation:2})}}return t})();var xi=[{path:"",component:Ke}];export{xi as default};
