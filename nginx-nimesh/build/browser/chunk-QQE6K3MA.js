import{a as _e,d as we}from"./chunk-KYPGTARF.js";import{a as M}from"./chunk-6F6RN6HY.js";import{b as J}from"./chunk-7KFYK36W.js";import{c as fe}from"./chunk-XGCX3TDA.js";import{a as te,b as ie,c as oe,d as ne,e as ae,f as re,g as le,h as me,i as se,j as ce,k as pe,l as de}from"./chunk-4HPTI4QK.js";import{a as Y,b as Z,c as ee}from"./chunk-Z5CSESBH.js";import{a as b,b as he}from"./chunk-4IV6I57G.js";import{c as Ce,d as ge}from"./chunk-G4IOVJWU.js";import{b as ue}from"./chunk-T73PE35A.js";import{a as K}from"./chunk-E4TC4E2W.js";import"./chunk-YEGTZ3HQ.js";import{a as B}from"./chunk-QQNGDF4M.js";import"./chunk-YK5MGRE7.js";import{b as j}from"./chunk-OT3AQSDR.js";import"./chunk-HN3GTZ22.js";import"./chunk-2V7PXVXU.js";import"./chunk-4WAQRQWE.js";import"./chunk-KKTU7MAV.js";import"./chunk-5RBAZJQA.js";import"./chunk-LMUZFXJ5.js";import"./chunk-6F4FOUKE.js";import{J as U,K as W,O as X,P as G,d as P,i as F,j as z,l as $,q as Q,u as q,z as L}from"./chunk-MXRUEL7B.js";import{b as V,c as N}from"./chunk-PNSBUHWU.js";import"./chunk-GRVU3NMS.js";import{c as E,g as k}from"./chunk-TEYA6QDP.js";import"./chunk-JTAP5U5F.js";import{a as A,d as H}from"./chunk-VPJKTFM7.js";import"./chunk-GXFYRQIF.js";import"./chunk-T4I3R2GV.js";import"./chunk-DJWEABC6.js";import{r as T}from"./chunk-MZLVPJ5Q.js";import{Aa as C,Bc as m,Db as y,Dc as w,Jc as R,Kb as p,Tb as s,cc as n,dc as a,ec as d,fc as f,gc as u,ic as x,nb as r,oa as v,ob as g,oc as _,qc as S,uc as D,vc as O,wc as I,za as h}from"./chunk-2GFQMTJ2.js";var xe=()=>[2,5,10,20];function Se(e,l){e&1&&(n(0,"th",26),m(1," ID "),a())}function Me(e,l){if(e&1&&(n(0,"td",27),m(1),a()),e&2){let t=l.$implicit;r(),w(" ",t.id," ")}}function ve(e,l){e&1&&(n(0,"th",26),m(1," Name "),a())}function ye(e,l){if(e&1&&(n(0,"td",27),m(1),a()),e&2){let t=l.$implicit;r(),w(" ",t.name," ")}}function De(e,l){e&1&&(n(0,"th",26),m(1," Contact Number "),a())}function Oe(e,l){if(e&1&&(n(0,"td",27),m(1),a()),e&2){let t=l.$implicit;r(),w(" ",t.contactNumber1," ")}}function Ie(e,l){e&1&&(n(0,"th",28),m(1," Actions "),a())}function Re(e,l){if(e&1){let t=x();n(0,"td",27)(1,"button",29),_("click",function(){let o=h(t).$implicit,c=S();return C(c.openClientEditDialog(o))}),m(2," Update "),a(),n(3,"button",30),_("click",function(){let o=h(t).$implicit,c=S();return C(c.deleteOwner(o))}),m(4," Delete "),a()()}}function Te(e,l){e&1&&d(0,"tr",31)}function Ee(e,l){e&1&&d(0,"tr",32)}var be=(()=>{class e{constructor(t,i,o){this._dialogService=t,this._snackBarService=i,this._clientRegistryService=o,this.dataSource=new de([]),this.displayedColumns=["id","name","contactNumber1","action"],this.searchInputControl=new q(""),this.noRecord=!1,this.itemsPerPage=10,this.totalItems=0,this.page=1,this._fuseConfirmationService=v(B)}ngOnInit(){this.getAllClientDetails()}ngAfterViewInit(){this._paginator.page.subscribe(()=>{this.page=this._paginator.pageIndex+1,this.itemsPerPage=this._paginator.pageSize,this.getAllClientDetails()})}getAllClientDetails(){let t={page:this.page-1,size:this.itemsPerPage};this._clientRegistryService.query(t).subscribe(i=>{i.body?(this.dataSource.data=i.body||[],this.totalItems=Number(i.headers.get("X-Total-Count"))):(this.dataSource.data=[],this.totalItems=0),this.noRecord=this.dataSource.data.length===0})}registerNewClient(){}openClientreateDialog(){this._dialogService.open(M,{width:"80vh",maxHeight:"90vh"}).afterClosed().subscribe(i=>{i&&(this._snackBarService.open("Client Created Successfully!","Close",{duration:3e3}),this.getAllClientDetails())})}openClientEditDialog(t){this._dialogService.open(M,{width:"80vh",maxHeight:"90vh",data:{owner:t}}).afterClosed().subscribe(o=>{o&&(this._snackBarService.open("Client Updated Successfully!","Close",{duration:3e3}),this.getAllClientDetails())})}deleteOwner(t){this._fuseConfirmationService.open({title:"Delete Owner",message:"Are you sure you want to delete this owner? This action cannot be undone!",icon:{name:"heroicons_outline:exclamation-triangle",color:"warn"},actions:{confirm:{label:"Delete",color:"warn"}}}).afterClosed().subscribe(o=>{o==="confirmed"&&this._clientRegistryService.delete(t.id).subscribe(()=>{this.getAllClientDetails()})})}static{this.\u0275fac=function(i){return new(i||e)(g(E),g(K),g(J))}}static{this.\u0275cmp=y({type:e,selectors:[["app-owners"]],viewQuery:function(i,o){if(i&1&&D(b,5),i&2){let c;O(c=I())&&(o._paginator=c.first)}},decls:33,vars:13,consts:[["paginator",""],[1,"absolute","inset-0","flex","min-w-0","flex-col","overflow-hidden"],[1,"bg-default","flex","flex-0","flex-col","p-6","pb-22","dark:bg-transparent","sm:flex-row","sm:items-center","sm:justify-between","sm:px-10","sm:pb-28","sm:pt-12"],[1,"min-w-0","flex-1"],[1,"mt-2"],[1,"truncate","text-3xl","font-extrabold","leading-7","tracking-tight","sm:leading-10","md:text-4xl"],[1,"mt-6","flex","shrink-0","items-center","sm:ml-4","sm:mt-0"],[1,"fuse-mat-dense","fuse-mat-rounded","min-w-64",3,"subscriptSizing"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["matInput","","placeholder","Search Owners",3,"formControl","autocomplete"],["mat-flat-button","",1,"ml-3",3,"click","color"],[1,"icon-size-4",3,"svgIcon"],[1,"ml-2"],[1,"example-table-container","bg-card","-mt-16","h-full","rounded-t-2xl","shadow","overflow-auto"],[1,"flex","flex-col","flex-auto","sm:mb-18","overflow-auto"],["mat-table","","matSort","",1,"w-full","table-fixed","border-separate","border-spacing-y-2","p-6",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","","class","px-4 py-3 text-left font-semibold",4,"matHeaderCellDef"],["mat-cell","","class","px-4 py-2",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","contactNumber1"],["matColumnDef","action"],["mat-header-cell","","class","px-4 py-3 text-left font-semibold",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","Select page of periodic elements",1,"bottom-0","justify-self-end",3,"length","pageSize","pageSizeOptions"],["mat-header-cell","","mat-sort-header","",1,"px-4","py-3","text-left","font-semibold"],["mat-cell","",1,"px-4","py-2"],["mat-header-cell","",1,"px-4","py-3","text-left","font-semibold"],["mat-flat-button","","color","primary",1,"fuse-mat-button-large","mr-2",3,"click"],["mat-flat-button","","color","warn",1,"fuse-mat-button-large",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(i,o){if(i&1){let c=x();n(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"h2",5),m(5," Owners "),a()()(),n(6,"div",6)(7,"mat-form-field",7),d(8,"mat-icon",8)(9,"input",9),a(),n(10,"button",10),_("click",function(){return h(c),C(o.openClientreateDialog())}),d(11,"mat-icon",11),n(12,"span",12),m(13,"Register New Owner"),a()()()(),n(14,"div",13)(15,"div",14)(16,"table",15),f(17,16),p(18,Se,2,0,"th",17)(19,Me,2,1,"td",18),u(),f(20,19),p(21,ve,2,0,"th",17)(22,ye,2,1,"td",18),u(),f(23,20),p(24,De,2,0,"th",17)(25,Oe,2,1,"td",18),u(),f(26,21),p(27,Ie,2,0,"th",22)(28,Re,5,0,"td",18),u(),p(29,Te,1,0,"tr",23)(30,Ee,1,0,"tr",24),a()()(),d(31,"mat-paginator",25,0),a()}i&2&&(r(7),s("subscriptSizing","dynamic"),r(),s("svgIcon","heroicons_solid:magnifying-glass"),r(),s("formControl",o.searchInputControl)("autocomplete","off"),r(),s("color","primary"),r(),s("svgIcon","heroicons_mini:plus"),r(5),s("dataSource",o.dataSource),r(13),s("matHeaderRowDef",o.displayedColumns),r(),s("matRowDefColumns",o.displayedColumns),r(),s("length",o.totalItems)("pageSize",o.itemsPerPage)("pageSizeOptions",R(12,xe)))},dependencies:[N,V,_e,H,A,Ce,ee,Y,Z,k,ge,U,$,Q,W,L,pe,te,oe,le,ne,ie,me,ae,re,se,ce,z,F,P,G,X,fe,he,b,T,ue,j,we],encapsulation:2})}}return e})();var gt=[{path:"",component:be}];export{gt as default};
