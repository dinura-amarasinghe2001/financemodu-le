import{a as F}from"./chunk-5RBAZJQA.js";import{c as P}from"./chunk-WGZETKH7.js";import"./chunk-V44XL57R.js";import"./chunk-LYMDSWFK.js";import"./chunk-TEYA6QDP.js";import"./chunk-JTAP5U5F.js";import{a as E,d as M}from"./chunk-VPJKTFM7.js";import"./chunk-GXFYRQIF.js";import"./chunk-T4I3R2GV.js";import{d as k}from"./chunk-DJWEABC6.js";import{g as O,o as j,y as I}from"./chunk-MZLVPJ5Q.js";import{Bc as a,Db as x,Dc as C,G as d,Kb as w,Qc as y,S as f,Sc as A,_b as m,ca as h,cc as r,da as g,dc as c,ea as v,ec as b,ia as s,m as p,nb as l,oa as o,ob as u,oc as S,qc as _}from"./chunk-2GFQMTJ2.js";var B=(()=>{class t{constructor(){this.http=o(I),this.applicationConfigService=o(F)}logout(){return this.http.post(this.applicationConfigService.getEndpointFor("api/logout"),{})}static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275prov=s({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var D=(()=>{class t{constructor(){this.location=o(O),this.authServerProvider=o(B)}login(){window.location.href=this.location.prepareExternalUrl("oauth2/authorization/oidc")}logout(){this.authServerProvider.logout().subscribe(i=>{window.location.href=i.logoutUrl})}static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275prov=s({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function z(t,R){if(t&1&&(a(0),y(1,"i18nPlural")),t&2){let i=_();C(" Redirecting in ",A(1,1,i.countdown,i.countdownMapping)," ")}}function Y(t,R){t&1&&a(0," You are now being redirected! ")}var L=(()=>{class t{constructor(i,e,n){this._loginService=i,this._authService=e,this._router=n,this.countdown=5,this.countdownMapping={"=1":"# second",other:"# seconds"},this._unsubscribeAll=new p}ngOnInit(){d(1e3,1e3).pipe(f(()=>{this.signOut()}),g(()=>this.countdown>0),h(this._unsubscribeAll),v(()=>this.countdown--)).subscribe()}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}signOut(){this._authService.signOut(),location.reload()}static{this.\u0275fac=function(e){return new(e||t)(u(D),u(P),u(k))}}static{this.\u0275cmp=x({type:t,selectors:[["auth-sign-out"]],decls:13,vars:2,consts:[[1,"flex","min-w-0","flex-auto","flex-col","items-center","sm:justify-center"],[1,"w-full","px-4","py-8","sm:bg-card","sm:w-auto","sm:rounded-2xl","sm:p-12","sm:shadow"],[1,"mx-auto","w-full","max-w-80","sm:mx-0","sm:w-80"],[1,"mx-auto","w-12"],["src","images/logo/logo.svg"],[1,"mt-8","text-center","text-4xl","font-extrabold","leading-tight","tracking-tight"],[1,"mt-0.5","flex","justify-center","font-medium"],[1,"text-secondary","mt-8","text-center","text-md","font-medium"],["mat-flat-button","","color","primary",1,"fuse-mat-button-large",3,"click"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),b(4,"img",4),c(),r(5,"div",5),a(6," You have signed out! "),c(),r(7,"div",6),w(8,z,2,4)(9,Y,1,0),c(),r(10,"div",7)(11,"button",8),S("click",function(){return n.signOut()}),a(12," Sign Out "),c()()()()()),e&2&&(l(8),m(n.countdown>0?8:-1),l(),m(n.countdown===0?9:-1))},dependencies:[j,M,E],encapsulation:2})}}return t})();var ct=[{path:"",component:L}];export{ct as default};
