import{a,b as F,c as h}from"./chunk-YEGTZ3HQ.js";import{a as y}from"./chunk-5RBAZJQA.js";import{w as g,y as S}from"./chunk-MZLVPJ5Q.js";import{K as v,a as s,b as p,ia as f,oa as c,p as d,r as m,y as o}from"./chunk-2GFQMTJ2.js";var L=(()=>{class i{constructor(){this.http=c(S),this.applicationConfigService=c(y),this.resourceUrl=this.applicationConfigService.getEndpointFor("api/grn-lines","inventorymicro"),this.resourceSearchUrl=this.applicationConfigService.getEndpointFor("api/grn-lines/_search","inventorymicro")}create(e){let r=this.convertDateFromClient(e);return this.http.post(this.resourceUrl,r,{observe:"response"}).pipe(o(t=>this.convertResponseFromServer(t)))}update(e){let r=this.convertDateFromClient(e);return this.http.put(`${this.resourceUrl}/${this.getGRNLinesIdentifier(e)}`,r,{observe:"response"}).pipe(o(t=>this.convertResponseFromServer(t)))}partialUpdate(e){let r=this.convertDateFromClient(e);return this.http.patch(`${this.resourceUrl}/${this.getGRNLinesIdentifier(e)}`,r,{observe:"response"}).pipe(o(t=>this.convertResponseFromServer(t)))}find(e){return this.http.get(`${this.resourceUrl}/${e}`,{observe:"response"}).pipe(o(r=>this.convertResponseFromServer(r)))}query(e){let r=h(e);return this.http.get(this.resourceUrl,{params:r,observe:"response"}).pipe(o(t=>this.convertResponseArrayFromServer(t)))}delete(e){return this.http.delete(`${this.resourceUrl}/${e}`,{observe:"response"})}search(e){let r=h(e);return this.http.get(this.resourceSearchUrl,{params:r,observe:"response"}).pipe(o(t=>this.convertResponseArrayFromServer(t)),v(()=>m([new g],d)))}getGRNLinesIdentifier(e){return e.id}compareGRNLines(e,r){return e&&r?this.getGRNLinesIdentifier(e)===this.getGRNLinesIdentifier(r):e===r}addGRNLinesToCollectionIfMissing(e,...r){let t=r.filter(F);if(t.length>0){let l=e.map(n=>this.getGRNLinesIdentifier(n));return[...t.filter(n=>{let u=this.getGRNLinesIdentifier(n);return l.includes(u)?!1:(l.push(u),!0)}),...e]}return e}convertDateFromClient(e){return p(s({},e),{lmd:e.lmd?.toJSON()??null})}convertDateFromServer(e){return p(s({},e),{lmd:e.lmd?a(e.lmd):void 0})}convertResponseFromServer(e){return e.clone({body:e.body?this.convertDateFromServer(e.body):null})}convertResponseArrayFromServer(e){return e.clone({body:e.body?e.body.map(r=>this.convertDateFromServer(r)):null})}static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275prov=f({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var z=(()=>{class i{constructor(){this.http=c(S),this.applicationConfigService=c(y),this.resourceUrl=this.applicationConfigService.getEndpointFor("api/grns","inventorymicro"),this.resourceSearchUrl=this.applicationConfigService.getEndpointFor("api/grns/_search","inventorymicro")}create(e){let r=this.convertDateFromClient(e);return this.http.post(this.resourceUrl,r,{observe:"response"}).pipe(o(t=>this.convertResponseFromServer(t)))}update(e){let r=this.convertDateFromClient(e);return this.http.put(`${this.resourceUrl}/${this.getGRNIdentifier(e)}`,r,{observe:"response"}).pipe(o(t=>this.convertResponseFromServer(t)))}partialUpdate(e){let r=this.convertDateFromClient(e);return this.http.patch(`${this.resourceUrl}/${this.getGRNIdentifier(e)}`,r,{observe:"response"}).pipe(o(t=>this.convertResponseFromServer(t)))}find(e){return this.http.get(`${this.resourceUrl}/${e}`,{observe:"response"}).pipe(o(r=>this.convertResponseFromServer(r)))}query(e){let r=h(e);return this.http.get(this.resourceUrl,{params:r,observe:"response"}).pipe(o(t=>this.convertResponseArrayFromServer(t)))}delete(e){return this.http.delete(`${this.resourceUrl}/${e}`,{observe:"response"})}search(e){let r=h(e);return this.http.get(this.resourceSearchUrl,{params:r,observe:"response"}).pipe(o(t=>this.convertResponseArrayFromServer(t)),v(()=>m([new g],d)))}getGRNIdentifier(e){return e.id}compareGRN(e,r){return e&&r?this.getGRNIdentifier(e)===this.getGRNIdentifier(r):e===r}addGRNToCollectionIfMissing(e,...r){let t=r.filter(F);if(t.length>0){let l=e.map(n=>this.getGRNIdentifier(n));return[...t.filter(n=>{let u=this.getGRNIdentifier(n);return l.includes(u)?!1:(l.push(u),!0)}),...e]}return e}convertDateFromClient(e){return p(s({},e),{grnDate:e.grnDate?.toJSON()??null,lmd:e.lmd?.toJSON()??null,supplierInvoiceDate:e.supplierInvoiceDate?.toJSON()??null})}convertDateFromServer(e){return p(s({},e),{grnDate:e.grnDate?a(e.grnDate):void 0,lmd:e.lmd?a(e.lmd):void 0,supplierInvoiceDate:e.supplierInvoiceDate?a(e.supplierInvoiceDate):void 0})}convertResponseFromServer(e){return e.clone({body:e.body?this.convertDateFromServer(e.body):null})}convertResponseArrayFromServer(e){return e.clone({body:e.body?e.body.map(r=>this.convertDateFromServer(r)):null})}static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275prov=f({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();export{L as a,z as b};
